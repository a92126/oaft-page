(()=>{var Et=Object.create;var Ge=Object.defineProperty;var Ct=Object.getOwnPropertyDescriptor;var Tt=Object.getOwnPropertyNames;var $t=Object.getPrototypeOf,At=Object.prototype.hasOwnProperty;var We=(e,t)=>()=>(e&&(t=e(e=0)),t);var Lt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _t=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tt(t))!At.call(e,i)&&i!==n&&Ge(e,i,{get:()=>t[i],enumerable:!(r=Ct(t,i))||r.enumerable});return e};var Ot=(e,t,n)=>(n=e!=null?Et($t(e)):{},_t(t||!e||!e.__esModule?Ge(n,"default",{value:e,enumerable:!0}):n,e));function Ye(e){let t=String(e),n=t.length-1;return k.context.id+(n?String.fromCharCode(96+n):"")+t}function Re(e){k.context=e}function Pt(){return{...k.context,id:k.getNextContextId(),count:0}}function te(e,t){let n=E,r=b,i=e.length===0,o=t===void 0?r:t,l=i?nt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=i?e:()=>e(()=>D(()=>J(l)));b=l,E=null;try{return G(s,!0)}finally{E=n,b=r}}function q(e,t){t=t?Object.assign({},be,t):be;let n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(f&&f.running&&f.sources.has(n)?i=i(n.tValue):i=i(n.value)),lt(n,i));return[st.bind(n),r]}function Xe(e,t,n){let r=fe(e,t,!0,j);ne&&f&&f.running?P.push(r):z(r)}function V(e,t,n){let r=fe(e,t,!1,j);ne&&f&&f.running?P.push(r):z(r)}function Se(e,t,n){tt=Dt;let r=fe(e,t,!1,j),i=ae&&it(ae);i&&(r.suspense=i),(!n||!n.render)&&(r.user=!0),M?M.push(r):z(r)}function _(e,t,n){n=n?Object.assign({},be,n):be;let r=fe(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ne&&f&&f.running?(r.tState=j,P.push(r)):z(r),st.bind(r)}function Mt(e){return e&&typeof e=="object"&&"then"in e}function rt(e,t,n){let r,i,o;typeof t=="function"?(r=e,i=t,o=n||{}):(r=!0,i=e,o=t||{});let l=null,s=Ne,c=null,a=!1,d=!1,u="initialValue"in o,m=typeof r=="function"&&_(r),g=new Set,[h,p]=(o.storage||q)(o.initialValue),[v,$]=q(void 0),[S,C]=q(void 0,{equals:!1}),[w,A]=q(u?"ready":"unresolved");k.context&&(c=k.getNextContextId(),o.ssrLoadFrom==="initial"?s=o.initialValue:k.load&&k.has(c)&&(s=k.load(c)));function B(L,O,W,H){return l===L&&(l=null,H!==void 0&&(u=!0),(L===s||O===s)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(H,{value:O})),s=Ne,f&&L&&a?(f.promises.delete(L),a=!1,G(()=>{f.running=!0,ye(O,W)},!1)):ye(O,W)),O}function ye(L,O){G(()=>{O===void 0&&p(()=>L),A(O!==void 0?"errored":u?"ready":"unresolved"),$(O);for(let W of g.keys())W.decrement();g.clear()},!1)}function se(){let L=ae&&it(ae),O=h(),W=v();if(W!==void 0&&!l)throw W;return E&&!E.user&&L&&Xe(()=>{S(),l&&(L.resolved&&f&&a?f.promises.add(l):g.has(L)||(L.increment(),g.add(L)))}),O}function Pe(L=!0){if(L!==!1&&d)return;d=!1;let O=m?m():r;if(a=f&&f.running,O==null||O===!1){B(l,D(h));return}f&&l&&f.promises.delete(l);let W,H=s!==Ne?s:D(()=>{try{return i(O,{value:h(),refetching:L})}catch(le){W=le}});if(W!==void 0){B(l,void 0,we(W),O);return}else if(!Mt(H))return B(l,H,void 0,O),H;return l=H,"v"in H?(H.s===1?B(l,H.v,void 0,O):B(l,void 0,we(H.v),O),H):(d=!0,queueMicrotask(()=>d=!1),G(()=>{A(u?"refreshing":"pending"),C()},!1),H.then(le=>B(H,le,void 0,O),le=>B(H,void 0,we(le),O)))}Object.defineProperties(se,{state:{get:()=>w()},error:{get:()=>v()},loading:{get(){let L=w();return L==="pending"||L==="refreshing"}},latest:{get(){if(!u)return se();let L=v();if(L&&!l)throw L;return h()}}});let qe=b;return m?Xe(()=>(qe=b,Pe(!1))):Pe(!1),[se,{refetch:L=>Ie(qe,()=>Pe(L)),mutate:p}]}function ot(e,t=et,n){let r=new Map,i=fe(o=>{let l=e();for(let[s,c]of r.entries())if(t(s,l)!==t(s,o))for(let a of c.values())a.state=j,a.pure?P.push(a):M.push(a);return l},void 0,!0,j);return z(i),o=>{let l=E;if(l){let s;(s=r.get(o))?s.add(l):r.set(o,s=new Set([l])),re(()=>{s.delete(l),!s.size&&r.delete(o)})}return t(o,f&&f.running&&f.sources.has(i)?i.tValue:i.value)}}function D(e){if(!ee&&E===null)return e();let t=E;E=null;try{return ee?ee.untrack(e):e()}finally{E=t}}function re(e){return b===null||(b.cleanups===null?b.cleanups=[e]:b.cleanups.push(e)),e}function ke(){return b}function Ie(e,t){let n=b,r=E;b=e,E=null;try{return G(t,!0)}catch(i){Ee(i)}finally{b=n,E=r}}function It(e){if(f&&f.running)return e(),f.done;let t=E,n=b;return Promise.resolve().then(()=>{E=t,b=n;let r;return(ne||ae)&&(r=f||(f={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(i=>r.resolve=i)),r.running=!0),G(e,!1),E=b=null,r?r.done:void 0})}function it(e){let t;return b&&b.context&&(t=b.context[e.id])!==void 0?t:e.defaultValue}function Ft(e){let t=_(e),n=_(()=>Me(t()));return n.toArray=()=>{let r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function st(){let e=f&&f.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===j)z(this);else{let t=P;P=null,G(()=>xe(this),!1),P=t}if(E){let t=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(t)):(E.sources=[this],E.sourceSlots=[t]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return e&&f.sources.has(this)?this.tValue:this.value}function lt(e,t,n){let r=f&&f.running&&f.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,t)){if(f){let i=f.running;(i||!n&&f.sources.has(e))&&(f.sources.add(e),e.tValue=t),i||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&G(()=>{for(let i=0;i<e.observers.length;i+=1){let o=e.observers[i],l=f&&f.running;l&&f.disposed.has(o)||((l?!o.tState:!o.state)&&(o.pure?P.push(o):M.push(o),o.observers&&at(o)),l?o.tState=j:o.state=j)}if(P.length>1e6)throw P=[],new Error},!1)}return t}function z(e){if(!e.fn)return;J(e);let t=ve;Ze(e,f&&f.running&&f.sources.has(e)?e.tValue:e.value,t),f&&!f.running&&f.sources.has(e)&&queueMicrotask(()=>{G(()=>{f&&(f.running=!0),E=b=e,Ze(e,e.tValue,t),E=b=null},!1)})}function Ze(e,t,n){let r,i=b,o=E;E=b=e;try{r=e.fn(t)}catch(l){return e.pure&&(f&&f.running?(e.tState=j,e.tOwned&&e.tOwned.forEach(J),e.tOwned=void 0):(e.state=j,e.owned&&e.owned.forEach(J),e.owned=null)),e.updatedAt=n+1,Ee(l)}finally{E=o,b=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?lt(e,r,!0):f&&f.running&&e.pure?(f.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function fe(e,t,n,r=j,i){let o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:b,context:b?b.context:null,pure:n};if(f&&f.running&&(o.state=0,o.tState=r),b===null||b!==nt&&(f&&f.running&&b.pure?b.tOwned?b.tOwned.push(o):b.tOwned=[o]:b.owned?b.owned.push(o):b.owned=[o]),ee&&o.fn){let[l,s]=q(void 0,{equals:!1}),c=ee.factory(o.fn,s);re(()=>c.dispose());let a=()=>It(s).then(()=>d.dispose()),d=ee.factory(o.fn,a);o.fn=u=>(l(),f&&f.running?d.track(u):c.track(u))}return o}function ue(e){let t=f&&f.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===ce)return xe(e);if(e.suspense&&D(e.suspense.inFallback))return e.suspense.effects.push(e);let n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ve);){if(t&&f.disposed.has(e))return;(t?e.tState:e.state)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let i=e,o=n[r+1];for(;(i=i.owner)&&i!==o;)if(f.disposed.has(i))return}if((t?e.tState:e.state)===j)z(e);else if((t?e.tState:e.state)===ce){let i=P;P=null,G(()=>xe(e,n[0]),!1),P=i}}}function G(e,t){if(P)return e();let n=!1;t||(P=[]),M?n=!0:M=[],ve++;try{let r=e();return Ht(n),r}catch(r){n||(M=null),P=null,Ee(r)}}function Ht(e){if(P&&(ne&&f&&f.running?jt(P):ct(P),P=null),e)return;let t;if(f){if(!f.promises.size&&!f.queue.size){let r=f.sources,i=f.disposed;M.push.apply(M,f.effects),t=f.resolve;for(let o of M)"tState"in o&&(o.state=o.tState),delete o.tState;f=null,G(()=>{for(let o of i)J(o);for(let o of r){if(o.value=o.tValue,o.owned)for(let l=0,s=o.owned.length;l<s;l++)J(o.owned[l]);o.tOwned&&(o.owned=o.tOwned),delete o.tValue,delete o.tOwned,o.tState=0}Qe(!1)},!1)}else if(f.running){f.running=!1,f.effects.push.apply(f.effects,M),M=null,Qe(!0);return}}let n=M;M=null,n.length&&G(()=>tt(n),!1),t&&t()}function ct(e){for(let t=0;t<e.length;t++)ue(e[t])}function jt(e){for(let t=0;t<e.length;t++){let n=e[t],r=f.queue;r.has(n)||(r.add(n),ne(()=>{r.delete(n),G(()=>{f.running=!0,ue(n)},!1),f&&(f.running=!1)}))}}function Dt(e){let t,n=0;for(t=0;t<e.length;t++){let r=e[t];r.user?e[n++]=r:ue(r)}if(k.context){if(k.count){k.effects||(k.effects=[]),k.effects.push(...e.slice(0,n));return}Re()}for(k.effects&&(k.done||!k.count)&&(e=[...k.effects,...e],n+=k.effects.length,delete k.effects),t=0;t<n;t++)ue(e[t])}function xe(e,t){let n=f&&f.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let i=e.sources[r];if(i.sources){let o=n?i.tState:i.state;o===j?i!==t&&(!i.updatedAt||i.updatedAt<ve)&&ue(i):o===ce&&xe(i,t)}}}function at(e){let t=f&&f.running;for(let n=0;n<e.observers.length;n+=1){let r=e.observers[n];(t?!r.tState:!r.state)&&(t?r.tState=ce:r.state=ce,r.pure?P.push(r):M.push(r),r.observers&&at(r))}}function J(e){let t;if(e.sources)for(;e.sources.length;){let n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){let o=i.pop(),l=n.observerSlots.pop();r<i.length&&(o.sourceSlots[l]=r,i[r]=o,n.observerSlots[r]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)J(e.tOwned[t]);delete e.tOwned}if(f&&f.running&&e.pure)ut(e,!0);else if(e.owned){for(t=e.owned.length-1;t>=0;t--)J(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}f&&f.running?e.tState=0:e.state=0}function ut(e,t){if(t||(e.tState=0,f.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)ut(e.owned[n])}function we(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Je(e,t,n){try{for(let r of t)r(e)}catch(r){Ee(r,n&&n.owner||null)}}function Ee(e,t=b){let n=Ke&&t&&t.context&&t.context[Ke],r=we(e);if(!n)throw r;M?M.push({fn(){Je(r,n,t)},state:j}):Je(r,n,t)}function Me(e){if(typeof e=="function"&&!e.length)return Me(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=Me(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function ze(e){for(let t=0;t<e.length;t++)e[t]()}function Ut(e,t,n={}){let r=[],i=[],o=[],l=0,s=t.length>1?[]:null;return re(()=>ze(o)),()=>{let c=e()||[],a=c.length,d,u;return c[Rt],D(()=>{let g,h,p,v,$,S,C,w,A;if(a===0)l!==0&&(ze(o),o=[],r=[],i=[],l=0,s&&(s=[])),n.fallback&&(r=[Vt],i[0]=te(B=>(o[0]=B,n.fallback())),l=1);else if(l===0){for(i=new Array(a),u=0;u<a;u++)r[u]=c[u],i[u]=te(m);l=a}else{for(p=new Array(a),v=new Array(a),s&&($=new Array(a)),S=0,C=Math.min(l,a);S<C&&r[S]===c[S];S++);for(C=l-1,w=a-1;C>=S&&w>=S&&r[C]===c[w];C--,w--)p[w]=i[C],v[w]=o[C],s&&($[w]=s[C]);for(g=new Map,h=new Array(w+1),u=w;u>=S;u--)A=c[u],d=g.get(A),h[u]=d===void 0?-1:d,g.set(A,u);for(d=S;d<=C;d++)A=r[d],u=g.get(A),u!==void 0&&u!==-1?(p[u]=i[d],v[u]=o[d],s&&($[u]=s[d]),u=h[u],g.set(A,u)):o[d]();for(u=S;u<a;u++)u in p?(i[u]=p[u],o[u]=v[u],s&&(s[u]=$[u],s[u](u))):i[u]=te(m);i=i.slice(0,l=a),r=c.slice(0)}return i});function m(g){if(o[u]=g,s){let[h,p]=q(u);return s[u]=p,t(c[u],h)}return t(c[u])}}}function U(e,t){if(Bt&&k.context){let n=k.context;Re(Pt());let r=D(()=>e(t||{}));return Re(n),r}return D(()=>e(t||{}))}function Fe(e){let t="fallback"in e&&{fallback:()=>e.fallback};return _(Ut(()=>e.each,e.children,t||void 0))}function oe(e){let t=e.keyed,n=_(()=>e.when,void 0,void 0),r=t?n:_(n,void 0,{equals:(i,o)=>!i==!o});return _(()=>{let i=r();if(i){let o=e.children;return typeof o=="function"&&o.length>0?D(()=>o(t?i:()=>{if(!D(r))throw ft("Show");return n()})):o}return e.fallback},void 0,void 0)}function He(e){let t=Ft(()=>e.children),n=_(()=>{let r=t(),i=Array.isArray(r)?r:[r],o=()=>{};for(let l=0;l<i.length;l++){let s=l,c=i[l],a=o,d=_(()=>a()?void 0:c.when,void 0,void 0),u=c.keyed?d:_(d,void 0,{equals:(m,g)=>!m==!g});o=()=>a()||(u()?[s,d,c]:void 0)}return o});return _(()=>{let r=n()();if(!r)return e.fallback;let[i,o,l]=r,s=l.children;return typeof s=="function"&&s.length>0?D(()=>s(l.keyed?o():()=>{if(D(n)()?.[0]!==i)throw ft("Match");return o()})):s},void 0,void 0)}function Ce(e){return e}var k,Nt,et,bn,Rt,xn,be,Ke,tt,j,ce,nt,Ne,b,f,ne,ee,E,P,M,ve,vn,Qe,ae,Vt,Bt,ft,de=We(()=>{k={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Ye(this.context.count)},getNextContextId(){return Ye(this.context.count++)}};Nt=!1,et=(e,t)=>e===t,bn=Symbol("solid-proxy"),Rt=Symbol("solid-track"),xn=Symbol("solid-dev-component"),be={equals:et},Ke=null,tt=ct,j=1,ce=2,nt={owned:null,cleanups:null,context:null,owner:null},Ne={},b=null,f=null,ne=null,ee=null,E=null,P=null,M=null,ve=0;[vn,Qe]=q(!1);Vt=Symbol("fallback");Bt=!1;ft=e=>`Stale read from <${e}>.`});function Gt(e,t,n){let r=n.length,i=t.length,o=r,l=0,s=0,c=t[i-1].nextSibling,a=null;for(;l<i||s<o;){if(t[l]===n[s]){l++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===l){let d=o<r?s?n[s-1].nextSibling:n[o-s]:c;for(;s<o;)e.insertBefore(n[s++],d)}else if(o===s)for(;l<i;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[s]===t[i-1]){let d=t[--i].nextSibling;e.insertBefore(n[s++],t[l++].nextSibling),e.insertBefore(n[--o],d),t[i]=n[o]}else{if(!a){a=new Map;let u=s;for(;u<o;)a.set(n[u],u++)}let d=a.get(t[l]);if(d!=null)if(s<d&&d<o){let u=l,m=1,g;for(;++u<i&&u<o&&!((g=a.get(t[u]))==null||g!==d+m);)m++;if(m>d-s){let h=t[l];for(;s<d;)e.insertBefore(n[s++],h)}else e.replaceChild(n[s++],t[l++])}else l++;else t[l++].remove()}}}function De(e,t,n,r={}){let i;return te(o=>{i=o,t===document?e():R(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function Y(e,t,n,r){let i,o=()=>{let s=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:r?s.firstChild:s.content.firstChild},l=t?()=>D(()=>document.importNode(i||(i=o()),!0)):()=>(i||(i=o())).cloneNode(!0);return l.cloneNode=l,l}function $e(e,t=window.document){let n=t[dt]||(t[dt]=new Set);for(let r=0,i=e.length;r<i;r++){let o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Wt))}}function Ve(e,t,n){Be(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Ae(e,t){Be(e)||(t==null?e.removeAttribute("class"):e.className=t)}function mt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){let i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Ue(e,t,n={}){let r=Object.keys(t||{}),i=Object.keys(n),o,l;for(o=0,l=i.length;o<l;o++){let s=i[o];!s||s==="undefined"||t[s]||(ht(e,s,!1),delete n[s])}for(o=0,l=r.length;o<l;o++){let s=r[o],c=!!t[s];!s||s==="undefined"||n[s]===c||!c||(ht(e,s,!0),n[s]=c)}return n}function pt(e,t,n){if(!t)return n?Ve(e,"style"):t;let r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function he(e,t,n){return D(()=>e(t,n))}function R(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Te(e,t,r,n);V(i=>Te(e,t(),i,n),r)}function Be(e){return!!k.context&&!k.done&&(!e||e.isConnected)}function ht(e,t,n){let r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function Wt(e){if(k.registry&&k.events&&k.events.find(([c,a])=>a===e))return;let t=e.target,n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),l=()=>{let c=t[n];if(c&&!t.disabled){let a=t[`${n}Data`];if(a!==void 0?c.call(t,a,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),k.registry&&!k.done&&(k.done=_$HY.done=!0),e.composedPath){let c=e.composedPath();o(c[0]);for(let a=0;a<c.length-2&&(t=c[a],!!l());a++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();o(r)}function Te(e,t,n,r,i){let o=Be(e);if(o){!n&&(n=[...e.childNodes]);let c=[];for(let a=0;a<n.length;a++){let d=n[a];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():c.push(d)}n=c}for(;typeof n=="function";)n=n();if(t===n)return n;let l=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(o||l==="number"&&(t=t.toString(),t===n))return n;if(s){let c=n[0];c&&c.nodeType===3?c.data!==t&&(c.data=t):c=document.createTextNode(t),n=ie(e,n,r,c)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(o)return n;n=ie(e,n,r)}else{if(l==="function")return V(()=>{let c=t();for(;typeof c=="function";)c=c();n=Te(e,c,n,r)}),()=>n;if(Array.isArray(t)){let c=[],a=n&&Array.isArray(n);if(je(c,t,n,i))return V(()=>n=Te(e,c,n,r,!0)),()=>n;if(o){if(!c.length)return n;if(r===void 0)return n=[...e.childNodes];let d=c[0];if(d.parentNode!==e)return n;let u=[d];for(;(d=d.nextSibling)!==r;)u.push(d);return n=u}if(c.length===0){if(n=ie(e,n,r),s)return n}else a?n.length===0?gt(e,c,r):Gt(e,n,c):(n&&ie(e),gt(e,c));n=c}else if(t.nodeType){if(o&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=ie(e,n,r,t);ie(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function je(e,t,n,r){let i=!1;for(let o=0,l=t.length;o<l;o++){let s=t[o],c=n&&n[e.length],a;if(!(s==null||s===!0||s===!1))if((a=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=je(e,s,c)||i;else if(a==="function")if(r){for(;typeof s=="function";)s=s();i=je(e,Array.isArray(s)?s:[s],Array.isArray(c)?c:[c])||i}else e.push(s),i=!0;else{let d=String(s);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return i}function gt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ie(e,t,n,r){if(n===void 0)return e.textContent="";let i=r||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){let s=t[l];if(i!==s){let c=s.parentNode===e;!o&&!l?c?e.replaceChild(i,s):e.insertBefore(i,n):c&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Kt(e,t=!1){return t?document.createElementNS(Yt,e):document.createElement(e)}function yt(e){let{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=ke(),o,l=!!k.context;return Se(()=>{l&&(ke().user=l=!1),o||(o=Ie(i,()=>_(()=>e.children)));let s=r();if(s instanceof HTMLHeadElement){let[c,a]=q(!1),d=()=>a(!0);te(u=>R(s,()=>c()?u():o(),null)),re(d)}else{let c=Kt(e.isSVG?"g":"div",e.isSVG),a=t&&c.attachShadow?c.attachShadow({mode:"open"}):c;Object.defineProperty(c,"_$host",{get(){return n.parentNode},configurable:!0}),R(a,o),s.appendChild(c),e.ref&&e.ref(c),re(()=>s.removeChild(c))}},void 0,{render:!l}),n}var qt,On,dt,Pn,Yt,N=We(()=>{de();de();qt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],On=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...qt]);dt="_$DX_DELEGATE";Pn=Symbol(),Yt="http://www.w3.org/2000/svg"});var St=Lt((Zn,vt)=>{N();N();N();N();N();N();N();N();N();N();N();N();N();de();var Le=Y("<div>"),Xt=Y("<div class=loading>LOADING"),Qt=Y("<div><div>"),Zt=Y('<button class=common-select-button><span class=common-select-text></span><span class=" common-select-icon "><svg viewBox="0 0 1024 1024"version=1.1 xmlns=http://www.w3.org/2000/svg width=1em height=1em><path d="M908.7 363.7L554 751.6c-10.6 12.1-25.9 19-41.9 19-16.1 0-31.3-6.9-41.9-19L115.4 363.7c-17.3-18.3-22.7-44.9-13.7-68.5 8.9-23.5 30.6-40 55.7-42.2h709.1c25.2 2.1 46.9 18.5 55.8 42.1 9 23.7 3.7 50.2-13.6 68.6z m0 0"fill=currentColor>'),Jt=Y('<dialog class=" common-select-popover ">'),zt=async e=>{let t=document.getElementById("app");(()=>{try{return window.WebAssembly!=null&&window.HTMLCanvasElement!=null&&window.HTMLDialogElement!=null&&typeof HTMLDialogElement.prototype.showModal=="function"&&window.OffscreenCanvas!=null&&navigator.getGamepads!=null}catch{return!1}})()?De(e,t):open("/nomaintenace.html","self")},en=()=>window.navigator.userAgent.toLowerCase().includes("mobile"),tn=e=>t=>{let n,r=clearTimeout,i=setTimeout;return(...o)=>{n=(n&&r(n),i(()=>t(...o),e))}},bt=e=>{let t=!1;return(...n)=>{t=(!t&&e(...n),!0)}},nn=e=>(()=>{var t=Le();return V(n=>{var r=e.class??"markdown",i=e.body;return r!==n.e&&Ae(t,n.e=r),i!==n.t&&(t.innerHTML=n.t=i),n},{e:void 0,t:void 0}),t})(),rn=()=>U(yt,{get children(){return Xt()}}),on=e=>{let t=new AudioContext({latencyHint:0}),n=2,r=new Uint8Array(0),i=(l,s,c)=>{if(l)if(s+c>l.length){let a=new Float32Array(2*(s+c));return a.set(l,0),a}else return l;else return new Float32Array(c*6)};return new WritableStream({start(l){this.pooled=r,this.srcnode=this.prepareSourceNode(),this.iswait=!1},source(){let l=this.srcnode;return l||(l=this.prepareSourceNode()),this.srcnode=null,l},write(l,s){let c;if(l.byteLength?(c=new Uint8Array(this.pooled.byteLength+l.byteLength),this.pooled.byteLength>0&&c.set(this.pooled,0),c.set(new Uint8Array(l.buffer,l.byteOffset,l.byteLength),this.pooled.byteLength)):c=this.pooled,this.iswait)this.srcnode||(this.srcnode=this.prepareSourceNode()),this.preprocess(c);else{let a;if(this.cursor)c.byteLength>200&&this.preprocess(c),a=t.createBuffer(n,this.cursor,e),a.copyToChannel(this.left,0,0),a.copyToChannel(this.right,1,0),this.left=this.right=this.cursor=void 0;else{let u=c.byteLength>>3;a=t.createBuffer(n,u,e);let m=a.getChannelData(0),g=a.getChannelData(1),h=new Float32Array(c.buffer,0,u*n);for(let p=0;p<u;++p){let v=p<<1;m[p]=h[v],g[p]=h[v+1]}this.pooled=this.pooled.slice(h.byteLength)}let d=this.source();d.buffer=a,d.start(),this.iswait=!0}},preprocess(l){let s=l.byteLength>>3,c=this.cursor??0,a=i(this.left,c,s),d=i(this.right,c,s),u=new Float32Array(l.buffer,0,s*n);for(let m=0;m<s;++m,++c){let g=m<<1;a[c]=u[g],d[c]=u[g+1]}this.cursor=c,this.left=a,this.right=d,this.pooled=l.slice(u.byteLength)},prepareSourceNode(){let l=t.createBufferSource();return l.onended=()=>{this.iswait=!1,(this.pooled.byteLength>0||this.cursor)&&this.write(r,null)},l.connect(t.destination),l}})},sn=e=>new Promise(t=>{e.click(),e.onchange=()=>{let n=e.files[0];t(n)}}),ln=e=>(()=>{var t=Qt(),n=t.firstChild;return V(r=>{var i=e.class,o=`${e.percent.toFixed(3)}%`,l=e.color;return i!==r.e&&Ae(t,r.e=i),o!==r.t&&((r.t=o)!=null?n.style.setProperty("width",o):n.style.removeProperty("width")),l!==r.a&&((r.a=l)!=null?n.style.setProperty("background",l):n.style.removeProperty("background")),r},{e:void 0,t:void 0,a:void 0}),t})(),xt=e=>{let t=ot(()=>e.selected);return(()=>{var n=Le();return R(n,U(Fe,{get each(){return e.options},children:r=>(()=>{var i=Le();return i.$$click=()=>!r.disabled&&e.handler(r),R(i,()=>r.label),V(o=>{var l={[e.styled[1]]:!0,[e.styled[2]]:t(r.value)},s=r.label,c=r.disabled;return o.e=Ue(i,l,o.e),s!==o.t&&Ve(i,"title",o.t=s),c!==o.a&&(i.disabled=o.a=c),o},{e:void 0,t:void 0,a:void 0}),i})()})),V(()=>Ae(n,e.styled[0])),n})()},cn=e=>{let t=_(()=>e.keyForText??"text"),n=_(()=>e.keyForValue??"value"),r=_(()=>e.placeholder??"---"),i=null,o=null,l=()=>{i?.open&&i.close(),o&&o()},s=u=>{l(),e.onChange&&e.onChange(u)},c=_(()=>{let u=e.options.find(m=>m[n()]===e.value);return u?u[t()]:null}),a=u=>{let m=u.currentTarget;if(i.open)l();else{let g=e.locate?e.locate(m):m.getBoundingClientRect();i.style.top=`${g.bottom+2}px`,i.style.left=`${g.left}px`,i.show(),setTimeout(()=>d(m))}},d=u=>{let m=g=>{!i.contains(g.target)&&!u.contains(g.target)&&l()};o&&o(),o=bt(()=>window.removeEventListener("mousedown",m)),window.addEventListener("mousedown",m)};return[(()=>{var u=Zt(),m=u.firstChild;return u.$$click=a,R(m,U(oe,{get when(){return c()},get fallback(){return r()},get children(){return c()}})),V(()=>m.classList.toggle("common-select-empty",c()===null)),u})(),(()=>{var u=Jt(),m=i;return typeof m=="function"?he(m,u):i=u,R(u,U(xt,{styled:["common-select-list","common-select-item","common-select-value"],get selected(){return e.value},handler:s,get options(){return e.options.map(g=>({label:g[t()],value:g[n()]}))}})),u})()]},wt=e=>{let t=e-e%8;t<e&&(t+=8);let n=new ArrayBuffer(t>>2),r=new Uint8Array(n,0,t>>3),i=new Uint8Array(n,t>>3,t>>3),o=(c,a)=>{let d=c>>3;a[d]|=1<<(c&7)},l=(c,a)=>{let d=c>>3;a[d]&=~(1<<(c&7))},s=(c,a)=>{let d=c>>3;return!!(a[d]&1<<(c&7))};return{lock:(c,a)=>{if(c>e)throw new RangeError(`indexing ${c} is out of range ${e}`);if(s(c,i))throw new ReferenceError(`indexing ${c} is deleted before your action`);if(s(c,r)){if(a)return!0;throw new TypeError(`indexing ${c} is locking before your action`)}else o(c,r)},islock:c=>{if(c>e)throw new RangeError(`indexing ${c} is out of range ${e}`);return s(c,r)},unlock:c=>{if(c>e)throw new RangeError(`indexing ${c} is out of range ${e}`);l(c,r)},delete:c=>{if(c>e)throw new RangeError(`indexing ${c} is out of range ${e}`);o(c,i)},exist:c=>{if(c>e)throw new RangeError(`indexing ${c} is out of range ${e}`);return s(c,i)},lookup:()=>{for(let c=0;c<t;++c)if(i[c]!=255&&r[c]!=255)for(let a=0;a<8;++a){let d=1<<a;if(!(i[c]&d)&&!(r[c]&d)){let u=c*8+a;return u<e?u:-1}}return-1}}},an=e=>{let t=new Array(e).fill(null),n=0,r=0;return{fifo_push:l=>{l!=null&&n+1!=r&&(t[n]=l,n=(n+1)%e)},fifo_pop:()=>{let l=t[r];return l&&(t[r]=null,r=(r+1)%e),l}}},un=e=>{let t=_(()=>e.duration??5e3),n=_(()=>e.type=="error"?"common-element-toast-error":"common-element-toast-info"),r=_(()=>20+e.order*100);return(()=>{var i=Le();return R(i,()=>e.text),V(o=>{var l={"common-element-toast":!0,[n()]:!0},s=`bottom: ${r()}px; --aniduration: ${t()}ms;`;return o.e=Ue(i,l,o.e),o.t=pt(i,s,o.t),o},{e:void 0,t:void 0}),i})()},ge=null,fn=e=>{let r,i,o;if(typeof e=="string"?r=e:typeof e=="object"?(r=String(e.text),i=e.type,o=e.duration):r=String(e),!ge){let l=document.createElement("div");l.id="toast",l.className="common-layout-toast",document.body.appendChild(l);let s=wt(5),{fifo_push:c,fifo_pop:a}=an(40),d=m=>{c(m),u()},u=()=>{let m=s.lookup();if(m<0)return;let g=a();if(!g)return;s.lock(m);let h=document.createElement("div");ge.container.appendChild(h);let{text:p,Target:v,type:$,duration:S}=g;setTimeout(()=>{s.unlock(m),ge.container.removeChild(h),requestAnimationFrame(u)},S??5e3),De(()=>U(v,{order:m,text:p,type:$,duration:S}),h)};ge={container:l,exchanger:wt(5),schedule:d}}ge.schedule({Target:un,type:i,duration:o,text:r})};vt.exports={main:zt,Loading:rn,Markdown:nn,Progress:ln,debounce:tn,onlyonce:bt,selectFile:sn,Hex:e=>e.toString(16).padStart(8,"0"),Menu:xt,Select:cn,toast:fn,DUMMY_HREF:"#!",isMobileDev:en(),streamToAudio:on};$e(["click"])});N();N();N();N();N();N();N();de();var Q=Ot(St());var dn=Y("<div class=error>"),kt=Y("<button>"),hn=Y('<div class=" config "><input type=color>'),gn=Y('<div class=" main "><input type=file style=display:none accept=image/*><div class=" usage "></div><div class=viewfinder><canvas width=1024 height=640>'),I=1024,F=640,X=400,K=240,me=240,pe=160,y=7,x=5,_e=X-me>>1,Oe=K-pe>>1,Z=y*2+1,T=Z*x,mn=(e,t,n)=>{let r=e.getContext("2d"),i=X-me>>1,o=K-pe>>1,l=document.createElement("img"),s={x:0,y:0},c=n,a=t,d,u=(g,h)=>g<h?g:h,m={_load:g=>new Promise((h,p)=>{let v=URL.createObjectURL(g);l.onload=()=>{URL.revokeObjectURL(v),h()},l.oninvalid=()=>p(new TypeError(g.name)),d=!1,l.src=v}),init:async function(g){if(await this._load(g),l.width<X||l.height<K)throw new ReferenceError("resolution");s.right=I-X>>1,s.left=s.right+X-l.width,s.bottom=F-K>>1,s.top=s.bottom+K-l.height,d=!0;let[h,p]=[e.width-l.width>>1,e.height-l.height>>1];r.reset(),this.move(h,p)},move:function(g,h){d&&(g<s.left?g=s.left:g>s.right&&(g=s.right),h<s.top?h=s.top:h>s.bottom&&(h=s.bottom),r.clearRect(s.x,s.y,u(l.width,e.width-s.x),u(l.height,e.height-s.y)),r.drawImage(l,g,h),s={...s,x:g,y:h},this._drawRuler(),a&&this._showCorner())},_drawRuler:()=>{r.strokeStyle=c,r.lineCap="square",r.lineWidth=1,r.strokeRect(s.right-1,s.bottom-1,X+2,K+2),r.strokeRect(s.right+i-1,s.bottom+o-1,me+2,pe+2)},_showCorner:()=>{let g=(h,p,v,$,S,C)=>{r.beginPath(),r.moveTo(h[0],h[1]),r.lineTo(p[0],p[1]),r.lineTo(v[0],v[1]),r.lineTo($[0],$[1]),r.lineTo(S[0],S[1]),r.lineTo(C[0],C[1]),r.closePath(),r.fill()};r.imageSmoothingEnabled=!1,r.fillStyle=c,r.drawImage(l,s.right-s.x-y+_e,s.bottom-s.y-y+Oe,Z,Z,0,0,T,T),g([(y-1)*x,(y-1)*x],[T,(y-1)*x],[T,y*x],[y*x,y*x],[y*x,T],[(y-1)*x,T]),r.drawImage(l,s.right-s.x-y+_e+me-1,s.bottom-s.y-y+Oe,Z,Z,I-T,0,T,T),g([I-(y-1)*x,(y-1)*x],[I-T,(y-1)*x],[I-T,y*x],[I-y*x,y*x],[I-y*x,T],[I-(y-1)*x,T]),r.drawImage(l,s.right-s.x-y+_e+me-1,s.bottom-s.y-y+Oe+pe-1,Z,Z,I-T,F-T,T,T),g([I-(y-1)*x,F-(y-1)*x],[I-T,F-(y-1)*x],[I-T,F-y*x],[I-y*x,F-y*x],[I-y*x,F-T],[I-(y-1)*x,F-T]),r.drawImage(l,s.right-s.x-y+_e,s.bottom-s.y-y+Oe+pe-1,Z,Z,0,F-T,T,T),g([(y-1)*x,F-(y-1)*x],[T,F-(y-1)*x],[T,F-y*x],[y*x,F-y*x],[y*x,F-T],[(y-1)*x,F-T])},save:function(){r.drawImage(l,s.x,s.y);let{data:g}=r.getImageData(s.right,s.bottom,X,K),h=new Uint8Array(X*K*3);for(let S=0;S<X;++S)for(let C=0;C<K;++C){let w=4*(X*(K-1-C)+S),A=3*(C+K*S);h[A]=g[w+2],h[A+1]=g[w+1],h[A+2]=g[w+0]}this._drawRuler();let p=new Blob([h.buffer],{type:"image/octet-stream"}),v=URL.createObjectURL(p),$=document.createElement("a");$.href=v,$.download="border.bgr",$.click(),setTimeout(()=>URL.revokeObjectURL(v))},alert:g=>{let h=r.measureText(g),[p,v]=[h.width,h.fontBoundingBoxAscent+h.fontBoundingBoxDescent],[$,S]=[I-p>>1,F-v>>1];r.reset(),r.font="14px system",r.fillStyle="#f24822",r.fillText(g,$,S)},config:function(g,h){a=g,c=h,r.reset(),this.move(s.x,s.y)}};return e.onmousedown=g=>{if(!d)return;let{x:h,y:p}=g,v=s.x,$=s.y,S=w=>{let A=w.x-h,B=w.y-p;m.move(v+A,$+B)},C=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",C)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",C)},navigator.userAgent.includes("Chrome")&&(e.ontouchstart=g=>{if(!d)return;let h=g.touches[0],[p,v]=[h.screenX,h.screenY],$=s.x,S=s.y,C=A=>{let B=A.touches[0],ye=B.screenX-p,se=B.screenY-v;m.move($+ye,S+se)},w=()=>{window.removeEventListener("touchmove",C),window.removeEventListener("touchend",w)};window.addEventListener("touchmove",C),window.addEventListener("touchend",w)}),window.onkeydown=g=>{if(!d)return;let{x:h,y:p}=s;switch(g.key){case"ArrowUp":--p;break;case"ArrowDown":++p;break;case"ArrowLeft":--h;break;case"ArrowRight":++h;break;default:}m.move(h,p)},m},pn=async e=>{let{selector:t,painter:n,state:r,config:i}=e,o=await(0,Q.selectFile)(t);try{await n.init(o),r("ready")}catch(l){l.message=="resolution"&&n.alert(i.resolution)}},yn=()=>{let[e,t]=q("pending"),[n,r]=q(!0),[i,o]=q("#FFD966"),[l]=rt(()=>fetch("/r/border.json").then(h=>h.json())),s,c,a=_(()=>l.state!="ready"?{}:location.search.startsWith("?en")?l().en:l().cn);Se(()=>{a().title&&(document.title=a().title)});let d=(0,Q.debounce)(240)(()=>c.save()),u=()=>pn({selector:s,painter:c,state:t,config:a()}),m=h=>{r(h.value),c.config(h.value,i())},g=h=>{let{value:p}=h.target;o(p),c.config(n(),p)};return U(He,{get fallback(){return U(Q.Loading,{})},get children(){return[U(Ce,{get when(){return l.state=="errored"},get children(){var h=dn();return R(h,()=>l.error.message),h}}),U(Ce,{get when(){return l.state=="ready"},get children(){var h=gn(),p=h.firstChild,v=p.nextSibling,$=v.nextSibling,S=$.firstChild,C=s;return typeof C=="function"?he(C,p):s=p,R(h,U(oe,{get when(){return e()=="pending"},get fallback(){return(()=>{var w=kt();return mt(w,"click",d,!0),R(w,()=>a().save),w})()},get children(){var w=kt();return w.$$click=u,R(w,()=>a().open),w}}),v),R(v,()=>a().usage),R(h,U(oe,{get when(){return e()=="ready"},get children(){var w=hn(),A=w.firstChild;return R(w,()=>a().detail,A),R(w,U(Q.Menu,{styled:["tablist","tabitem","tabchecked"],get options(){return a().corner_menu},get selected(){return n()},handler:m}),A),R(w,()=>a().color,A),A.addEventListener("change",g),V(()=>A.value=i()),w}}),$),he(w=>c=mn(w,n(),i()),S),V(()=>$.classList.toggle("dragable",e()!="pending")),h}})]}})};(0,Q.main)(yn);$e(["click"]);})();
