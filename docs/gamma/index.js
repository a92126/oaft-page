(()=>{var Lt=Object.create;var Ye=Object.defineProperty;var Mt=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,Ft=Object.prototype.hasOwnProperty;var Xe=(e,t)=>()=>(e&&(t=e(e=0)),t);var It=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Dt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jt(t))!Ft.call(e,i)&&i!==n&&Ye(e,i,{get:()=>t[i],enumerable:!(r=Mt(t,i))||r.enumerable});return e};var Rt=(e,t,n)=>(n=e!=null?Lt(Nt(e)):{},Dt(t||!e||!e.__esModule?Ye(n,"default",{value:e,enumerable:!0}):n,e));function Qe(e){let t=String(e),n=t.length-1;return p.context.id+(n?String.fromCharCode(96+n):"")+t}function Fe(e){p.context=e}function Ht(){return{...p.context,id:p.getNextContextId(),count:0}}function Z(e,t){let n=b,r=m,i=e.length===0,s=t===void 0?r:t,o=i?st:{owned:null,cleanups:null,context:s?s.context:null,owner:s},c=i?e:()=>e(()=>M(()=>K(o)));m=o,b=null;try{return D(c,!0)}finally{b=n,m=r}}function R(e,t){t=t?Object.assign({},xe,t):xe;let n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(d&&d.running&&d.sources.has(n)?i=i(n.tValue):i=i(n.value)),ut(n,i));return[ft.bind(n),r]}function Ze(e,t,n){let r=ue(e,t,!0,F);z&&d&&d.running?A.push(r):Y(r)}function j(e,t,n){let r=ue(e,t,!1,F);z&&d&&d.running?A.push(r):Y(r)}function ee(e,t,n){it=Wt;let r=ue(e,t,!1,F),i=ae&&at(ae);i&&(r.suspense=i),(!n||!n.render)&&(r.user=!0),T?T.push(r):Y(r)}function v(e,t,n){n=n?Object.assign({},xe,n):xe;let r=ue(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,z&&d&&d.running?(r.tState=F,A.push(r)):Y(r),ft.bind(r)}function qt(e){return e&&typeof e=="object"&&"then"in e}function ot(e,t,n){let r,i,s;typeof t=="function"?(r=e,i=t,s=n||{}):(r=!0,i=e,s=t||{});let o=null,c=Ne,l=null,f=!1,u=!1,a="initialValue"in s,h=typeof r=="function"&&v(r),g=new Set,[y,x]=(s.storage||R)(s.initialValue),[O,H]=R(void 0),[C,L]=R(void 0,{equals:!1}),[E,I]=R(a?"ready":"unresolved");p.context&&(l=p.getNextContextId(),s.ssrLoadFrom==="initial"?c=s.initialValue:p.load&&p.has(l)&&(c=p.load(l)));function P(w,k,q,N){return o===w&&(o=null,N!==void 0&&(a=!0),(w===c||k===c)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(N,{value:k})),c=Ne,d&&w&&f?(d.promises.delete(w),f=!1,D(()=>{d.running=!0,U(k,q)},!1)):U(k,q)),k}function U(w,k){D(()=>{k===void 0&&x(()=>w),I(k!==void 0?"errored":a?"ready":"unresolved"),H(k);for(let q of g.keys())q.decrement();g.clear()},!1)}function Q(){let w=ae&&at(ae),k=y(),q=O();if(q!==void 0&&!o)throw q;return b&&!b.user&&w&&Ze(()=>{C(),o&&(w.resolved&&d&&f?d.promises.add(o):g.has(w)||(w.increment(),g.add(w)))}),k}function oe(w=!0){if(w!==!1&&u)return;u=!1;let k=h?h():r;if(f=d&&d.running,k==null||k===!1){P(o,M(y));return}d&&o&&d.promises.delete(o);let q,N=c!==Ne?c:M(()=>{try{return i(k,{value:y(),refetching:w})}catch(le){q=le}});if(q!==void 0){P(o,void 0,ye(q),k);return}else if(!qt(N))return P(o,N,void 0,k),N;return o=N,"v"in N?(N.s===1?P(o,N.v,void 0,k):P(o,void 0,ye(N.v),k),N):(u=!0,queueMicrotask(()=>u=!1),D(()=>{I(a?"refreshing":"pending"),L()},!1),N.then(le=>P(N,le,void 0,k),le=>P(N,void 0,ye(le),k)))}Object.defineProperties(Q,{state:{get:()=>E()},error:{get:()=>O()},loading:{get(){let w=E();return w==="pending"||w==="refreshing"}},latest:{get(){if(!a)return Q();let w=O();if(w&&!o)throw w;return y()}}});let we=m;return h?Ze(()=>(we=m,oe(!1))):oe(!1),[Q,{refetch:w=>Re(we,()=>oe(w)),mutate:x}]}function lt(e,t=rt,n){let r=new Map,i=ue(s=>{let o=e();for(let[c,l]of r.entries())if(t(c,o)!==t(c,s))for(let f of l.values())f.state=F,f.pure?A.push(f):T.push(f);return o},void 0,!0,F);return Y(i),s=>{let o=b;if(o){let c;(c=r.get(s))?c.add(o):r.set(s,c=new Set([o])),te(()=>{c.delete(o),!c.size&&r.delete(s)})}return t(s,d&&d.running&&d.sources.has(i)?i.tValue:i.value)}}function ct(e){return D(e,!1)}function M(e){if(!J&&b===null)return e();let t=b;b=null;try{return J?J.untrack(e):e()}finally{b=t}}function De(e){ee(()=>M(e))}function te(e){return m===null||(m.cleanups===null?m.cleanups=[e]:m.cleanups.push(e)),e}function ke(){return b}function Ae(){return m}function Re(e,t){let n=m,r=b;m=e,b=null;try{return D(t,!0)}catch(i){Ce(i)}finally{m=n,b=r}}function Bt(e){if(d&&d.running)return e(),d.done;let t=b,n=m;return Promise.resolve().then(()=>{b=t,m=n;let r;return(z||ae)&&(r=d||(d={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(i=>r.resolve=i)),r.running=!0),D(e,!1),b=m=null,r?r.done:void 0})}function at(e){let t;return m&&m.context&&(t=m.context[e.id])!==void 0?t:e.defaultValue}function Gt(e){let t=v(e),n=v(()=>Ie(t()));return n.toArray=()=>{let r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function ft(){let e=d&&d.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===F)Y(this);else{let t=A;A=null,D(()=>ve(this),!1),A=t}if(b){let t=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(t)):(b.sources=[this],b.sourceSlots=[t]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return e&&d.sources.has(this)?this.tValue:this.value}function ut(e,t,n){let r=d&&d.running&&d.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,t)){if(d){let i=d.running;(i||!n&&d.sources.has(e))&&(d.sources.add(e),e.tValue=t),i||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&D(()=>{for(let i=0;i<e.observers.length;i+=1){let s=e.observers[i],o=d&&d.running;o&&d.disposed.has(s)||((o?!s.tState:!s.state)&&(s.pure?A.push(s):T.push(s),s.observers&&ht(s)),o?s.tState=F:s.state=F)}if(A.length>1e6)throw A=[],new Error},!1)}return t}function Y(e){if(!e.fn)return;K(e);let t=$e;et(e,d&&d.running&&d.sources.has(e)?e.tValue:e.value,t),d&&!d.running&&d.sources.has(e)&&queueMicrotask(()=>{D(()=>{d&&(d.running=!0),b=m=e,et(e,e.tValue,t),b=m=null},!1)})}function et(e,t,n){let r,i=m,s=b;b=m=e;try{r=e.fn(t)}catch(o){return e.pure&&(d&&d.running?(e.tState=F,e.tOwned&&e.tOwned.forEach(K),e.tOwned=void 0):(e.state=F,e.owned&&e.owned.forEach(K),e.owned=null)),e.updatedAt=n+1,Ce(o)}finally{b=s,m=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ut(e,r,!0):d&&d.running&&e.pure?(d.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function ue(e,t,n,r=F,i){let s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:m,context:m?m.context:null,pure:n};if(d&&d.running&&(s.state=0,s.tState=r),m===null||m!==st&&(d&&d.running&&m.pure?m.tOwned?m.tOwned.push(s):m.tOwned=[s]:m.owned?m.owned.push(s):m.owned=[s]),J&&s.fn){let[o,c]=R(void 0,{equals:!1}),l=J.factory(s.fn,c);te(()=>l.dispose());let f=()=>Bt(c).then(()=>u.dispose()),u=J.factory(s.fn,f);s.fn=a=>(o(),d&&d.running?u.track(a):l.track(a))}return s}function fe(e){let t=d&&d.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===ce)return ve(e);if(e.suspense&&M(e.suspense.inFallback))return e.suspense.effects.push(e);let n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);){if(t&&d.disposed.has(e))return;(t?e.tState:e.state)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let i=e,s=n[r+1];for(;(i=i.owner)&&i!==s;)if(d.disposed.has(i))return}if((t?e.tState:e.state)===F)Y(e);else if((t?e.tState:e.state)===ce){let i=A;A=null,D(()=>ve(e,n[0]),!1),A=i}}}function D(e,t){if(A)return e();let n=!1;t||(A=[]),T?n=!0:T=[],$e++;try{let r=e();return Ut(n),r}catch(r){n||(T=null),A=null,Ce(r)}}function Ut(e){if(A&&(z&&d&&d.running?Kt(A):dt(A),A=null),e)return;let t;if(d){if(!d.promises.size&&!d.queue.size){let r=d.sources,i=d.disposed;T.push.apply(T,d.effects),t=d.resolve;for(let s of T)"tState"in s&&(s.state=s.tState),delete s.tState;d=null,D(()=>{for(let s of i)K(s);for(let s of r){if(s.value=s.tValue,s.owned)for(let o=0,c=s.owned.length;o<c;o++)K(s.owned[o]);s.tOwned&&(s.owned=s.tOwned),delete s.tValue,delete s.tOwned,s.tState=0}ze(!1)},!1)}else if(d.running){d.running=!1,d.effects.push.apply(d.effects,T),T=null,ze(!0);return}}let n=T;T=null,n.length&&D(()=>it(n),!1),t&&t()}function dt(e){for(let t=0;t<e.length;t++)fe(e[t])}function Kt(e){for(let t=0;t<e.length;t++){let n=e[t],r=d.queue;r.has(n)||(r.add(n),z(()=>{r.delete(n),D(()=>{d.running=!0,fe(n)},!1),d&&(d.running=!1)}))}}function Wt(e){let t,n=0;for(t=0;t<e.length;t++){let r=e[t];r.user?e[n++]=r:fe(r)}if(p.context){if(p.count){p.effects||(p.effects=[]),p.effects.push(...e.slice(0,n));return}Fe()}for(p.effects&&(p.done||!p.count)&&(e=[...p.effects,...e],n+=p.effects.length,delete p.effects),t=0;t<n;t++)fe(e[t])}function ve(e,t){let n=d&&d.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let i=e.sources[r];if(i.sources){let s=n?i.tState:i.state;s===F?i!==t&&(!i.updatedAt||i.updatedAt<$e)&&fe(i):s===ce&&ve(i,t)}}}function ht(e){let t=d&&d.running;for(let n=0;n<e.observers.length;n+=1){let r=e.observers[n];(t?!r.tState:!r.state)&&(t?r.tState=ce:r.state=ce,r.pure?A.push(r):T.push(r),r.observers&&ht(r))}}function K(e){let t;if(e.sources)for(;e.sources.length;){let n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){let s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)K(e.tOwned[t]);delete e.tOwned}if(d&&d.running&&e.pure)gt(e,!0);else if(e.owned){for(t=e.owned.length-1;t>=0;t--)K(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}d&&d.running?e.tState=0:e.state=0}function gt(e,t){if(t||(e.tState=0,d.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)gt(e.owned[n])}function ye(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function tt(e,t,n){try{for(let r of t)r(e)}catch(r){Ce(r,n&&n.owner||null)}}function Ce(e,t=m){let n=Je&&t&&t.context&&t.context[Je],r=ye(e);if(!n)throw r;T?T.push({fn(){tt(r,n,t)},state:F}):tt(r,n,t)}function Ie(e){if(typeof e=="function"&&!e.length)return Ie(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=Ie(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function nt(e){for(let t=0;t<e.length;t++)e[t]()}function Xt(e,t,n={}){let r=[],i=[],s=[],o=0,c=t.length>1?[]:null;return te(()=>nt(s)),()=>{let l=e()||[],f=l.length,u,a;return l[Se],M(()=>{let g,y,x,O,H,C,L,E,I;if(f===0)o!==0&&(nt(s),s=[],r=[],i=[],o=0,c&&(c=[])),n.fallback&&(r=[Yt],i[0]=Z(P=>(s[0]=P,n.fallback())),o=1);else if(o===0){for(i=new Array(f),a=0;a<f;a++)r[a]=l[a],i[a]=Z(h);o=f}else{for(x=new Array(f),O=new Array(f),c&&(H=new Array(f)),C=0,L=Math.min(o,f);C<L&&r[C]===l[C];C++);for(L=o-1,E=f-1;L>=C&&E>=C&&r[L]===l[E];L--,E--)x[E]=i[L],O[E]=s[L],c&&(H[E]=c[L]);for(g=new Map,y=new Array(E+1),a=E;a>=C;a--)I=l[a],u=g.get(I),y[a]=u===void 0?-1:u,g.set(I,a);for(u=C;u<=L;u++)I=r[u],a=g.get(I),a!==void 0&&a!==-1?(x[a]=i[u],O[a]=s[u],c&&(H[a]=c[u]),a=y[a],g.set(I,a)):s[u]();for(a=C;a<f;a++)a in x?(i[a]=x[a],s[a]=O[a],c&&(c[a]=H[a],c[a](a))):i[a]=Z(h);i=i.slice(0,o=f),r=l.slice(0)}return i});function h(g){if(s[a]=g,c){let[y,x]=R(a);return c[a]=x,t(l[a],y)}return t(l[a])}}}function _(e,t){if(Qt&&p.context){let n=p.context;Fe(Ht());let r=M(()=>e(t||{}));return Fe(n),r}return M(()=>e(t||{}))}function de(e){let t="fallback"in e&&{fallback:()=>e.fallback};return v(Xt(()=>e.each,e.children,t||void 0))}function he(e){let t=e.keyed,n=v(()=>e.when,void 0,void 0),r=t?n:v(n,void 0,{equals:(i,s)=>!i==!s});return v(()=>{let i=r();if(i){let s=e.children;return typeof s=="function"&&s.length>0?M(()=>s(t?i:()=>{if(!M(r))throw mt("Show");return n()})):s}return e.fallback},void 0,void 0)}function He(e){let t=Gt(()=>e.children),n=v(()=>{let r=t(),i=Array.isArray(r)?r:[r],s=()=>{};for(let o=0;o<i.length;o++){let c=o,l=i[o],f=s,u=v(()=>f()?void 0:l.when,void 0,void 0),a=l.keyed?u:v(u,void 0,{equals:(h,g)=>!h==!g});s=()=>f()||(a()?[c,u,l]:void 0)}return s});return v(()=>{let r=n()();if(!r)return e.fallback;let[i,s,o]=r,c=o.children;return typeof c=="function"&&c.length>0?M(()=>c(o.keyed?s():()=>{if(M(n)()?.[0]!==i)throw mt("Match");return s()})):c},void 0,void 0)}function _e(e){return e}var p,Vt,rt,W,Se,Mn,xe,Je,it,F,ce,st,Ne,m,d,z,J,b,A,T,$e,jn,ze,ae,Yt,Qt,mt,ne=Xe(()=>{p={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Qe(this.context.count)},getNextContextId(){return Qe(this.context.count++)}};Vt=!1,rt=(e,t)=>e===t,W=Symbol("solid-proxy"),Se=Symbol("solid-track"),Mn=Symbol("solid-dev-component"),xe={equals:rt},Je=null,it=dt,F=1,ce=2,st={owned:null,cleanups:null,context:null,owner:null},Ne={},m=null,d=null,z=null,J=null,b=null,A=null,T=null,$e=0;[jn,ze]=R(!1);Yt=Symbol("fallback");Qt=!1;mt=e=>`Stale read from <${e}>.`});function Zt(e,t,n){let r=n.length,i=t.length,s=r,o=0,c=0,l=t[i-1].nextSibling,f=null;for(;o<i||c<s;){if(t[o]===n[c]){o++,c++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){let u=s<r?c?n[c-1].nextSibling:n[s-c]:l;for(;c<s;)e.insertBefore(n[c++],u)}else if(s===c)for(;o<i;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[c]===t[i-1]){let u=t[--i].nextSibling;e.insertBefore(n[c++],t[o++].nextSibling),e.insertBefore(n[--s],u),t[i]=n[s]}else{if(!f){f=new Map;let a=c;for(;a<s;)f.set(n[a],a++)}let u=f.get(t[o]);if(u!=null)if(c<u&&u<s){let a=o,h=1,g;for(;++a<i&&a<s&&!((g=f.get(t[a]))==null||g!==u+h);)h++;if(h>u-c){let y=t[o];for(;c<u;)e.insertBefore(n[c++],y)}else e.replaceChild(n[c++],t[o++])}else o++;else t[o++].remove()}}}function qe(e,t,n,r={}){let i;return Z(s=>{i=s,t===document?e():S(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function V(e,t,n,r){let i,s=()=>{let c=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return c.innerHTML=e,n?c.content.firstChild.firstChild:r?c.firstChild:c.content.firstChild},o=t?()=>M(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function Ee(e,t=window.document){let n=t[pt]||(t[pt]=new Set);for(let r=0,i=e.length;r<i;r++){let s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,zt))}}function ie(e,t,n){Ge(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Pe(e,t){Ge(e)||(t==null?e.removeAttribute("class"):e.className=t)}function yt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){let i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Be(e,t,n={}){let r=Object.keys(t||{}),i=Object.keys(n),s,o;for(s=0,o=i.length;s<o;s++){let c=i[s];!c||c==="undefined"||t[c]||(bt(e,c,!1),delete n[c])}for(s=0,o=r.length;s<o;s++){let c=r[s],l=!!t[c];!c||c==="undefined"||n[c]===l||!l||(bt(e,c,!0),n[c]=l)}return n}function xt(e,t,n){if(!t)return n?ie(e,"style"):t;let r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function X(e,t,n){return M(()=>e(t,n))}function S(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Oe(e,t,r,n);j(i=>Oe(e,t(),i,n),r)}function Ge(e){return!!p.context&&!p.done&&(!e||e.isConnected)}function bt(e,t,n){let r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function zt(e){if(p.registry&&p.events&&p.events.find(([l,f])=>f===e))return;let t=e.target,n=`$$${e.type}`,r=e.target,i=e.currentTarget,s=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),o=()=>{let l=t[n];if(l&&!t.disabled){let f=t[`${n}Data`];if(f!==void 0?l.call(t,f,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},c=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),p.registry&&!p.done&&(p.done=_$HY.done=!0),e.composedPath){let l=e.composedPath();s(l[0]);for(let f=0;f<l.length-2&&(t=l[f],!!o());f++){if(t._$host){t=t._$host,c();break}if(t.parentNode===i)break}}else c();s(r)}function Oe(e,t,n,r,i){let s=Ge(e);if(s){!n&&(n=[...e.childNodes]);let l=[];for(let f=0;f<n.length;f++){let u=n[f];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;let o=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(s||o==="number"&&(t=t.toString(),t===n))return n;if(c){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=re(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(s)return n;n=re(e,n,r)}else{if(o==="function")return j(()=>{let l=t();for(;typeof l=="function";)l=l();n=Oe(e,l,n,r)}),()=>n;if(Array.isArray(t)){let l=[],f=n&&Array.isArray(n);if(Ve(l,t,n,i))return j(()=>n=Oe(e,l,n,r,!0)),()=>n;if(s){if(!l.length)return n;if(r===void 0)return n=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return n;let a=[u];for(;(u=u.nextSibling)!==r;)a.push(u);return n=a}if(l.length===0){if(n=re(e,n,r),c)return n}else f?n.length===0?wt(e,l,r):Zt(e,n,l):(n&&re(e),wt(e,l));n=l}else if(t.nodeType){if(s&&t.parentNode)return n=c?[t]:t;if(Array.isArray(n)){if(c)return n=re(e,n,r,t);re(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ve(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let c=t[s],l=n&&n[e.length],f;if(!(c==null||c===!0||c===!1))if((f=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))i=Ve(e,c,l)||i;else if(f==="function")if(r){for(;typeof c=="function";)c=c();i=Ve(e,Array.isArray(c)?c:[c],Array.isArray(l)?l:[l])||i}else e.push(c),i=!0;else{let u=String(c);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function wt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function re(e,t,n,r){if(n===void 0)return e.textContent="";let i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){let c=t[o];if(i!==c){let l=c.parentNode===e;!s&&!o?l?e.replaceChild(i,c):e.insertBefore(i,n):l&&c.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}function tn(e,t=!1){return t?document.createElementNS(en,e):document.createElement(e)}function vt(e){let{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=Ae(),s,o=!!p.context;return ee(()=>{o&&(Ae().user=o=!1),s||(s=Re(i,()=>v(()=>e.children)));let c=r();if(c instanceof HTMLHeadElement){let[l,f]=R(!1),u=()=>f(!0);Z(a=>S(c,()=>l()?a():s(),null)),te(u)}else{let l=tn(e.isSVG?"g":"div",e.isSVG),f=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),S(f,s),c.appendChild(l),e.ref&&e.ref(l),te(()=>c.removeChild(l))}},void 0,{render:!o}),n}var Jt,Gn,pt,Un,en,$=Xe(()=>{ne();ne();Jt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Gn=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...Jt]);pt="_$DX_DELEGATE";Un=Symbol(),en="http://www.w3.org/2000/svg"});var Tt=It((hr,Pt)=>{$();$();$();$();$();$();$();$();$();$();$();$();$();ne();var je=V("<div>"),ln=V("<div class=loading>LOADING"),cn=V("<div><div>"),an=V('<button class=common-select-button><span class=common-select-text></span><span class=" common-select-icon "><svg viewBox="0 0 1024 1024"version=1.1 xmlns=http://www.w3.org/2000/svg width=1em height=1em><path d="M908.7 363.7L554 751.6c-10.6 12.1-25.9 19-41.9 19-16.1 0-31.3-6.9-41.9-19L115.4 363.7c-17.3-18.3-22.7-44.9-13.7-68.5 8.9-23.5 30.6-40 55.7-42.2h709.1c25.2 2.1 46.9 18.5 55.8 42.1 9 23.7 3.7 50.2-13.6 68.6z m0 0"fill=currentColor>'),fn=V('<dialog class=" common-select-popover ">'),un=async e=>{let t=document.getElementById("app");(()=>{try{return window.WebAssembly!=null&&window.HTMLCanvasElement!=null&&window.HTMLDialogElement!=null&&typeof HTMLDialogElement.prototype.showModal=="function"&&window.OffscreenCanvas!=null&&navigator.getGamepads!=null}catch{return!1}})()?qe(e,t):open("/nomaintenace.html","self")},dn=()=>window.navigator.userAgent.toLowerCase().includes("mobile"),hn=e=>t=>{let n,r=clearTimeout,i=setTimeout;return(...s)=>{n=(n&&r(n),i(()=>t(...s),e))}},Ot=e=>{let t=!1;return(...n)=>{t=(!t&&e(...n),!0)}},gn=e=>(()=>{var t=je();return j(n=>{var r=e.class??"markdown",i=e.body;return r!==n.e&&Pe(t,n.e=r),i!==n.t&&(t.innerHTML=n.t=i),n},{e:void 0,t:void 0}),t})(),mn=()=>_(vt,{get children(){return ln()}}),pn=e=>{let t=new AudioContext({latencyHint:0}),n=2,r=new Uint8Array(0),i=(o,c,l)=>{if(o)if(c+l>o.length){let f=new Float32Array(2*(c+l));return f.set(o,0),f}else return o;else return new Float32Array(l*6)};return new WritableStream({start(o){this.pooled=r,this.srcnode=this.prepareSourceNode(),this.iswait=!1},source(){let o=this.srcnode;return o||(o=this.prepareSourceNode()),this.srcnode=null,o},write(o,c){let l;if(o.byteLength?(l=new Uint8Array(this.pooled.byteLength+o.byteLength),this.pooled.byteLength>0&&l.set(this.pooled,0),l.set(new Uint8Array(o.buffer,o.byteOffset,o.byteLength),this.pooled.byteLength)):l=this.pooled,this.iswait)this.srcnode||(this.srcnode=this.prepareSourceNode()),this.preprocess(l);else{let f;if(this.cursor)l.byteLength>200&&this.preprocess(l),f=t.createBuffer(n,this.cursor,e),f.copyToChannel(this.left,0,0),f.copyToChannel(this.right,1,0),this.left=this.right=this.cursor=void 0;else{let a=l.byteLength>>3;f=t.createBuffer(n,a,e);let h=f.getChannelData(0),g=f.getChannelData(1),y=new Float32Array(l.buffer,0,a*n);for(let x=0;x<a;++x){let O=x<<1;h[x]=y[O],g[x]=y[O+1]}this.pooled=this.pooled.slice(y.byteLength)}let u=this.source();u.buffer=f,u.start(),this.iswait=!0}},preprocess(o){let c=o.byteLength>>3,l=this.cursor??0,f=i(this.left,l,c),u=i(this.right,l,c),a=new Float32Array(o.buffer,0,c*n);for(let h=0;h<c;++h,++l){let g=h<<1;f[l]=a[g],u[l]=a[g+1]}this.cursor=l,this.left=f,this.right=u,this.pooled=o.slice(a.byteLength)},prepareSourceNode(){let o=t.createBufferSource();return o.onended=()=>{this.iswait=!1,(this.pooled.byteLength>0||this.cursor)&&this.write(r,null)},o.connect(t.destination),o}})},bn=e=>new Promise(t=>{e.click(),e.onchange=()=>{let n=e.files[0];t(n)}}),wn=e=>(()=>{var t=cn(),n=t.firstChild;return j(r=>{var i=e.class,s=`${e.percent.toFixed(3)}%`,o=e.color;return i!==r.e&&Pe(t,r.e=i),s!==r.t&&((r.t=s)!=null?n.style.setProperty("width",s):n.style.removeProperty("width")),o!==r.a&&((r.a=o)!=null?n.style.setProperty("background",o):n.style.removeProperty("background")),r},{e:void 0,t:void 0,a:void 0}),t})(),Et=e=>{let t=lt(()=>e.selected);return(()=>{var n=je();return S(n,_(de,{get each(){return e.options},children:r=>(()=>{var i=je();return i.$$click=()=>!r.disabled&&e.handler(r),S(i,()=>r.label),j(s=>{var o={[e.styled[1]]:!0,[e.styled[2]]:t(r.value)},c=r.label,l=r.disabled;return s.e=Be(i,o,s.e),c!==s.t&&ie(i,"title",s.t=c),l!==s.a&&(i.disabled=s.a=l),s},{e:void 0,t:void 0,a:void 0}),i})()})),j(()=>Pe(n,e.styled[0])),n})()},yn=e=>{let t=v(()=>e.keyForText??"text"),n=v(()=>e.keyForValue??"value"),r=v(()=>e.placeholder??"---"),i=null,s=null,o=()=>{i?.open&&i.close(),s&&s()},c=a=>{o(),e.onChange&&e.onChange(a)},l=v(()=>{let a=e.options.find(h=>h[n()]===e.value);return a?a[t()]:null}),f=a=>{let h=a.currentTarget;if(i.open)o();else{let g=e.locate?e.locate(h):h.getBoundingClientRect();i.style.top=`${g.bottom+2}px`,i.style.left=`${g.left}px`,i.show(),setTimeout(()=>u(h))}},u=a=>{let h=g=>{!i.contains(g.target)&&!a.contains(g.target)&&o()};s&&s(),s=Ot(()=>window.removeEventListener("mousedown",h)),window.addEventListener("mousedown",h)};return[(()=>{var a=an(),h=a.firstChild;return a.$$click=f,S(h,_(he,{get when(){return l()},get fallback(){return r()},get children(){return l()}})),j(()=>h.classList.toggle("common-select-empty",l()===null)),a})(),(()=>{var a=fn(),h=i;return typeof h=="function"?X(h,a):i=a,S(a,_(Et,{styled:["common-select-list","common-select-item","common-select-value"],get selected(){return e.value},handler:c,get options(){return e.options.map(g=>({label:g[t()],value:g[n()]}))}})),a})()]},_t=e=>{let t=e-e%8;t<e&&(t+=8);let n=new ArrayBuffer(t>>2),r=new Uint8Array(n,0,t>>3),i=new Uint8Array(n,t>>3,t>>3),s=(l,f)=>{let u=l>>3;f[u]|=1<<(l&7)},o=(l,f)=>{let u=l>>3;f[u]&=~(1<<(l&7))},c=(l,f)=>{let u=l>>3;return!!(f[u]&1<<(l&7))};return{lock:(l,f)=>{if(l>e)throw new RangeError(`indexing ${l} is out of range ${e}`);if(c(l,i))throw new ReferenceError(`indexing ${l} is deleted before your action`);if(c(l,r)){if(f)return!0;throw new TypeError(`indexing ${l} is locking before your action`)}else s(l,r)},islock:l=>{if(l>e)throw new RangeError(`indexing ${l} is out of range ${e}`);return c(l,r)},unlock:l=>{if(l>e)throw new RangeError(`indexing ${l} is out of range ${e}`);o(l,r)},delete:l=>{if(l>e)throw new RangeError(`indexing ${l} is out of range ${e}`);s(l,i)},exist:l=>{if(l>e)throw new RangeError(`indexing ${l} is out of range ${e}`);return c(l,i)},lookup:()=>{for(let l=0;l<t;++l)if(i[l]!=255&&r[l]!=255)for(let f=0;f<8;++f){let u=1<<f;if(!(i[l]&u)&&!(r[l]&u)){let a=l*8+f;return a<e?a:-1}}return-1}}},xn=e=>{let t=new Array(e).fill(null),n=0,r=0;return{fifo_push:o=>{o!=null&&n+1!=r&&(t[n]=o,n=(n+1)%e)},fifo_pop:()=>{let o=t[r];return o&&(t[r]=null,r=(r+1)%e),o}}},vn=e=>{let t=v(()=>e.duration??5e3),n=v(()=>e.type=="error"?"common-element-toast-error":"common-element-toast-info"),r=v(()=>20+e.order*100);return(()=>{var i=je();return S(i,()=>e.text),j(s=>{var o={"common-element-toast":!0,[n()]:!0},c=`bottom: ${r()}px; --aniduration: ${t()}ms;`;return s.e=Be(i,o,s.e),s.t=xt(i,c,s.t),s},{e:void 0,t:void 0}),i})()},be=null,Sn=e=>{let r,i,s;if(typeof e=="string"?r=e:typeof e=="object"?(r=String(e.text),i=e.type,s=e.duration):r=String(e),!be){let o=document.createElement("div");o.id="toast",o.className="common-layout-toast",document.body.appendChild(o);let c=_t(5),{fifo_push:l,fifo_pop:f}=xn(40),u=h=>{l(h),a()},a=()=>{let h=c.lookup();if(h<0)return;let g=f();if(!g)return;c.lock(h);let y=document.createElement("div");be.container.appendChild(y);let{text:x,Target:O,type:H,duration:C}=g;setTimeout(()=>{c.unlock(h),be.container.removeChild(y),requestAnimationFrame(a)},C??5e3),qe(()=>_(O,{order:h,text:x,type:H,duration:C}),y)};be={container:o,exchanger:_t(5),schedule:u}}be.schedule({Target:vn,type:i,duration:s,text:r})};Pt.exports={main:un,Loading:mn,Markdown:gn,Progress:wn,debounce:hn,onlyonce:Ot,selectFile:bn,Hex:e=>e.toString(16).padStart(8,"0"),Menu:Et,Select:yn,toast:Sn,DUMMY_HREF:"#!",isMobileDev:dn(),streamToAudio:pn};Ee(["click"])});$();$();$();$();$();$();$();$();ne();ne();var Ue=Symbol("store-raw"),se=Symbol("store-node"),G=Symbol("store-has"),St=Symbol("store-self");function $t(e){let t=e[W];if(!t&&(Object.defineProperty(e,W,{value:t=new Proxy(e,sn)}),!Array.isArray(e))){let n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){let o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Te(e){let t;return e!=null&&typeof e=="object"&&(e[W]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function me(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[Ue])return n;if(!Te(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,c=e.length;o<c;o++)i=e[o],(r=me(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);let o=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let l=0,f=o.length;l<f;l++)s=o[l],!c[s].get&&(i=e[s],(r=me(i,t))!==i&&(e[s]=r))}return e}function Le(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function pe(e,t,n){if(e[t])return e[t];let[r,i]=R(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function nn(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===W||t===se||(delete n.value,delete n.writable,n.get=()=>e[W][t]),n}function kt(e){ke()&&pe(Le(e,se),St)()}function rn(e){return kt(e),Reflect.ownKeys(e)}var sn={get(e,t,n){if(t===Ue)return e;if(t===W)return n;if(t===Se)return kt(e),n;let r=Le(e,se),i=r[t],s=i?i():e[t];if(t===se||t===G||t==="__proto__")return s;if(!i){let o=Object.getOwnPropertyDescriptor(e,t);ke()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=pe(r,t,s)())}return Te(s)?$t(s):s},has(e,t){return t===Ue||t===W||t===Se||t===se||t===G||t==="__proto__"?!0:(ke()&&pe(Le(e,G),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:rn,getOwnPropertyDescriptor:nn};function Me(e,t,n,r=!1){if(!r&&e[t]===n)return;let i=e[t],s=e.length;n===void 0?(delete e[t],e[G]&&e[G][t]&&i!==void 0&&e[G][t].$()):(e[t]=n,e[G]&&e[G][t]&&i===void 0&&e[G][t].$());let o=Le(e,se),c;if((c=pe(o,t,i))&&c.$(()=>n),Array.isArray(e)&&e.length!==s){for(let l=e.length;l<s;l++)(c=o[l])&&c.$();(c=pe(o,"length",s))&&c.$(e.length)}(c=o[St])&&c.$()}function At(e,t){let n=Object.keys(t);for(let r=0;r<n.length;r+=1){let i=n[r];Me(e,i,t[i])}}function on(e,t){if(typeof t=="function"&&(t=t(e)),t=me(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){let i=t[n];e[n]!==i&&Me(e,n,i)}Me(e,"length",r)}else At(e,t)}function ge(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();let o=typeof r,c=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)ge(e,[r[l]].concat(t),n);return}else if(c&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&ge(e,[l].concat(t),n);return}else if(c&&o==="object"){let{from:l=0,to:f=e.length-1,by:u=1}=r;for(let a=l;a<=f;a+=u)ge(e,[a].concat(t),n);return}else if(t.length>1){ge(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=me(s),r===void 0||Te(i)&&Te(s)&&!Array.isArray(s)?At(i,s):Me(e,r,s))}function Ct(...[e,t]){let n=me(e||{}),r=Array.isArray(n),i=$t(n);function s(...o){ct(()=>{r&&o.length===1?on(n,o[0]):ge(n,o)})}return[i,s]}var Xn=Symbol("store-root");var B=Rt(Tt());var $n=V('<dialog class=" intro "><div class=" how "><h2></h2><div class=" desc "></div></div><div class=" why "><h3></h3><div class=" desc "></div></div><button type=button>'),kn=V('<div class=" view "><div class=" ref "><div class=" refhead "><h3></h3><input type=file style=display:none accept=.png><button></button></div><div class=" cabinet "><canvas width=480 height=320></canvas></div></div><div class=" preview "><h3></h3><div class=" cabinet "><canvas width=480 height=320>'),An=V('<div class=" formcurve "><div class=" form "><h3></h3><form></form></div><div class=" curve "><h3></h3><div class=" chart "><svg version=1.1 viewBox="0 0 256 256"><g><path style=stroke:var(--theme-danger-color);stroke-width:2;fill:transparent;stroke-dasharray:1,3; d="M0 256L256 0"></path><path style=stroke:var(--theme-dark-80);stroke-width:2;fill:transparent; d="M0 0L0 256L256 256"></path><path style=stroke:var(--theme-main-color);stroke-width:2;fill:transparent;>'),Cn=V('<div class=" field "><div class=" label "><label></label></div><div class=" input "><input type=number min=0>'),_n=V("<div class=error>"),Ke=240*2,We=160*2,On=e=>{let{intro:t}=e.setting,[n,r]=R(!0),i;return De(()=>n()&&i.showModal()),_(he,{get when(){return n()},get children(){var s=$n(),o=s.firstChild,c=o.firstChild,l=c.nextSibling,f=o.nextSibling,u=f.firstChild,a=u.nextSibling,h=f.nextSibling,g=i;return typeof g=="function"?X(g,s):i=s,S(c,()=>t.how.title),S(l,_(B.Markdown,{get body(){return t.how.desc}})),S(u,()=>t.why.title),S(a,_(B.Markdown,{get body(){return t.why.desc}})),h.$$click=r,h.$$clickData=!1,S(h,()=>t.close),s}})},En=e=>{let t,n,r,{map:i}=e,{view:s}=e.setting,o=new Uint8ClampedArray(Ke*We*4),c=()=>{console.info("refresh preview...");let f=t.getContext("2d",{alpha:!1,willReadFrequently:!0}),u=i(),{data:a}=f.getImageData(0,0,Ke,We);for(let h in o)o[h]=h&!1?255:u[a[h]];f=n.getContext("2d"),f.putImageData(new ImageData(o,Ke,We),0,0)};ee(c);let l=async()=>{let f=t.getContext("2d"),u=await(0,B.selectFile)(r),a=new FileReader;a.onload=()=>{let h=new Image;h.onload=()=>(f.drawImage(h,0,0),c()),h.src=a.result},a.readAsDataURL(u)};return De(async()=>{let{snapshot:f}=s.origin,u=t.getContext("2d"),a=new Image;a.onload=()=>(u.drawImage(a,0,0),c()),a.src=f}),(()=>{var f=kn(),u=f.firstChild,a=u.firstChild,h=a.firstChild,g=h.nextSibling,y=g.nextSibling,x=a.nextSibling,O=x.firstChild,H=u.nextSibling,C=H.firstChild,L=C.nextSibling,E=L.firstChild;S(h,()=>s.origin.title);var I=r;typeof I=="function"?X(I,g):r=g,y.$$click=l,S(y,()=>s.origin.button);var P=t;typeof P=="function"?X(P,O):t=O,S(C,()=>s.preview.title);var U=n;return typeof U=="function"?X(U,E):n=E,f})()},Pn=e=>{let{value:t,update:n,map:r}=e,{form:i}=e.setting,s=u=>a=>n(u,a.target.value),o=3,c=300,l=(u,a)=>a==0?"M0 256":`L${o*a} ${256-r()[o*a]}`,f=new Array(255/o).fill(0);return(()=>{var u=An(),a=u.firstChild,h=a.firstChild,g=h.nextSibling,y=a.nextSibling,x=y.firstChild,O=x.nextSibling,H=O.firstChild,C=H.firstChild,L=C.firstChild,E=L.nextSibling,I=E.nextSibling;return S(h,()=>i.title),S(g,_(de,{each:["lcdGamma","gbaGamma","contrast","brightness"],children:P=>(()=>{var U=Cn(),Q=U.firstChild,oe=Q.firstChild,we=Q.nextSibling,w=we.firstChild;return S(oe,P),yt(w,"change",(0,B.debounce)(c)(s(P))),j(()=>ie(w,"step",i[P].step)),j(()=>w.value=t[P]),U})()})),S(x,()=>i.curvename),j(()=>ie(I,"d",f.map(l).join(""))),u})()},Tn=()=>{let[e,t]=Ct({lcdGamma:0,gbaGamma:0,contrast:0,brightness:0}),[n]=ot(()=>fetch("/r/gamma.json").then(i=>i.json()));ee(()=>{if(n.state!="ready")return;let{form:i}=n();document.title=n().document,t("lcdGamma",i.lcdGamma.init),t("gbaGamma",i.gbaGamma.init),t("contrast",i.contrast.init),t("brightness",i.brightness.init)});let r=v(i=>{let{lcdGamma:s,gbaGamma:o,contrast:c,brightness:l}=e;for(let f=0;f<256;++f){let u=Math.round(255*Math.pow(Math.pow(c,o)*Math.pow(f/255+l/c,o),1/s));i[f]=u>255?255:u}return i.slice()},new Uint8Array(256));return _(He,{get fallback(){return _(B.Loading,{})},get children(){return[_(_e,{get when(){return n.state=="errored"},get children(){var i=_n();return S(i,()=>n.error.message),i}}),_(_e,{get when(){return n.state=="ready"},get children(){return[_(On,{get setting(){return n()}}),_(En,{map:r,get setting(){return n()}}),_(Pn,{value:e,update:t,map:r,get setting(){return n()}})]}})]}})};(0,B.main)(Tn);Ee(["click"]);})();
