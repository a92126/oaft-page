(()=>{var Tn=Object.create;var Ht=Object.defineProperty;var Mn=Object.getOwnPropertyDescriptor;var Un=Object.getOwnPropertyNames;var Nn=Object.getPrototypeOf,In=Object.prototype.hasOwnProperty;var jt=(e,n)=>()=>(e&&(n=e(e=0)),n);var On=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Pn=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of Un(n))!In.call(e,s)&&s!==t&&Ht(e,s,{get:()=>n[s],enumerable:!(r=Mn(n,s))||r.enumerable});return e};var Fn=(e,n,t)=>(t=e!=null?Tn(Nn(e)):{},Pn(n||!e||!e.__esModule?Ht(t,"default",{value:e,enumerable:!0}):t,e));function Rt(e){let n=String(e),t=n.length-1;return q.context.id+(t?String.fromCharCode(96+t):"")+n}function kt(e){q.context=e}function Dn(){return{...q.context,id:q.getNextContextId(),count:0}}function je(e,n){let t=G,r=R,s=e.length===0,i=n===void 0?r:n,l=s?Xt:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>ue(()=>Ne(l)));R=l,G=null;try{return ye(a,!0)}finally{G=t,R=r}}function Y(e,n){n=n?Object.assign({},ot,n):ot;let t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=s=>(typeof s=="function"&&(h&&h.running&&h.sources.has(t)?s=s(t.tValue):s=s(t.value)),nn(t,s));return[tn.bind(t),r]}function Bt(e,n,t){let r=Je(e,n,!0,pe);Re&&h&&h.running?re.push(r):Fe(r)}function K(e,n,t){let r=Je(e,n,!1,pe);Re&&h&&h.running?re.push(r):Fe(r)}function Ie(e,n,t){Wt=zn;let r=Je(e,n,!1,pe),s=We&&en(We);s&&(r.suspense=s),(!t||!t.render)&&(r.user=!0),ce?ce.push(r):Fe(r)}function H(e,n,t){t=t?Object.assign({},ot,t):ot;let r=Je(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,Re&&h&&h.running?(r.tState=pe,re.push(r)):Fe(r),tn.bind(r)}function Rn(e){return e&&typeof e=="object"&&"then"in e}function Jt(e,n,t){let r,s,i;typeof n=="function"?(r=e,s=n,i=t||{}):(r=!0,s=e,i=n||{});let l=null,a=xt,o=null,u=!1,d=!1,c="initialValue"in i,g=typeof r=="function"&&H(r),m=new Set,[w,S]=(i.storage||Y)(i.initialValue),[A,P]=Y(void 0),[k,L]=Y(void 0,{equals:!1}),[N,O]=Y(c?"ready":"unresolved");q.context&&(o=q.getNextContextId(),i.ssrLoadFrom==="initial"?a=i.initialValue:q.load&&q.has(o)&&(a=q.load(o)));function b(_,y,E,x){return l===_&&(l=null,x!==void 0&&(c=!0),(_===a||y===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(x,{value:y})),a=xt,h&&_&&u?(h.promises.delete(_),u=!1,ye(()=>{h.running=!0,v(y,E)},!1)):v(y,E)),y}function v(_,y){ye(()=>{y===void 0&&S(()=>_),O(y!==void 0?"errored":c?"ready":"unresolved"),P(y);for(let E of m.keys())E.decrement();m.clear()},!1)}function U(){let _=We&&en(We),y=w(),E=A();if(E!==void 0&&!l)throw E;return G&&!G.user&&_&&Bt(()=>{k(),l&&(_.resolved&&h&&u?h.promises.add(l):m.has(_)||(_.increment(),m.add(_)))}),y}function C(_=!0){if(_!==!1&&d)return;d=!1;let y=g?g():r;if(u=h&&h.running,y==null||y===!1){b(l,ue(w));return}h&&l&&h.promises.delete(l);let E=a!==xt?a:ue(()=>s(y,{value:w(),refetching:_}));return Rn(E)?(l=E,"value"in E?(E.status==="success"?b(l,E.value,void 0,y):b(l,void 0,$t(E.value),y),E):(d=!0,queueMicrotask(()=>d=!1),ye(()=>{O(c?"refreshing":"pending"),L()},!1),E.then(x=>b(E,x,void 0,y),x=>b(E,void 0,$t(x),y)))):(b(l,E,void 0,y),E)}return Object.defineProperties(U,{state:{get:()=>N()},error:{get:()=>A()},loading:{get(){let _=N();return _==="pending"||_==="refreshing"}},latest:{get(){if(!c)return U();let _=A();if(_&&!l)throw _;return w()}}}),g?Bt(()=>C(!1)):C(!1),[U,{refetch:C,mutate:S}]}function Zt(e,n=Kt,t){let r=new Map,s=Je(i=>{let l=e();for(let[a,o]of r.entries())if(n(a,l)!==n(a,i))for(let u of o.values())u.state=pe,u.pure?re.push(u):ce.push(u);return l},void 0,!0,pe);return Fe(s),i=>{let l=G;if(l){let a;(a=r.get(i))?a.add(l):r.set(i,a=new Set([l])),Oe(()=>{a.delete(l),!a.size&&r.delete(i)})}return n(i,h&&h.running&&h.sources.has(s)?s.tValue:s.value)}}function Ve(e){return ye(e,!1)}function ue(e){if(!He&&G===null)return e();let n=G;G=null;try{return He?He.untrack(e):e()}finally{G=n}}function St(e){Ie(()=>ue(e))}function Oe(e){return R===null||(R.cleanups===null?R.cleanups=[e]:R.cleanups.push(e)),e}function ct(){return R}function Qt(e,n){let t=R,r=G;R=e,G=null;try{return ye(n,!0)}catch(s){ut(s)}finally{R=t,G=r}}function Vn(e){if(h&&h.running)return e(),h.done;let n=G,t=R;return Promise.resolve().then(()=>{G=n,R=t;let r;return(Re||We)&&(r=h||(h={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(s=>r.resolve=s)),r.running=!0),ye(e,!1),G=R=null,r?r.done:void 0})}function en(e){let n;return R&&R.context&&(n=R.context[e.id])!==void 0?n:e.defaultValue}function Bn(e){let n=H(e),t=H(()=>Ct(n()));return t.toArray=()=>{let r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}function tn(){let e=h&&h.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===pe)Fe(this);else{let n=re;re=null,ye(()=>lt(this),!1),re=n}if(G){let n=this.observers?this.observers.length:0;G.sources?(G.sources.push(this),G.sourceSlots.push(n)):(G.sources=[this],G.sourceSlots=[n]),this.observers?(this.observers.push(G),this.observerSlots.push(G.sources.length-1)):(this.observers=[G],this.observerSlots=[G.sources.length-1])}return e&&h.sources.has(this)?this.tValue:this.value}function nn(e,n,t){let r=h&&h.running&&h.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,n)){if(h){let s=h.running;(s||!t&&h.sources.has(e))&&(h.sources.add(e),e.tValue=n),s||(e.value=n)}else e.value=n;e.observers&&e.observers.length&&ye(()=>{for(let s=0;s<e.observers.length;s+=1){let i=e.observers[s],l=h&&h.running;l&&h.disposed.has(i)||((l?!i.tState:!i.state)&&(i.pure?re.push(i):ce.push(i),i.observers&&sn(i)),l?i.tState=pe:i.state=pe)}if(re.length>1e6)throw re=[],new Error},!1)}return n}function Fe(e){if(!e.fn)return;Ne(e);let n=at;Gt(e,h&&h.running&&h.sources.has(e)?e.tValue:e.value,n),h&&!h.running&&h.sources.has(e)&&queueMicrotask(()=>{ye(()=>{h&&(h.running=!0),G=R=e,Gt(e,e.tValue,n),G=R=null},!1)})}function Gt(e,n,t){let r,s=R,i=G;G=R=e;try{r=e.fn(n)}catch(l){return e.pure&&(h&&h.running?(e.tState=pe,e.tOwned&&e.tOwned.forEach(Ne),e.tOwned=void 0):(e.state=pe,e.owned&&e.owned.forEach(Ne),e.owned=null)),e.updatedAt=t+1,ut(l)}finally{G=i,R=s}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?nn(e,r,!0):h&&h.running&&e.pure?(h.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=t)}function Je(e,n,t,r=pe,s){let i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:R,context:R?R.context:null,pure:t};if(h&&h.running&&(i.state=0,i.tState=r),R===null||R!==Xt&&(h&&h.running&&R.pure?R.tOwned?R.tOwned.push(i):R.tOwned=[i]:R.owned?R.owned.push(i):R.owned=[i]),He&&i.fn){let[l,a]=Y(void 0,{equals:!1}),o=He.factory(i.fn,a);Oe(()=>o.dispose());let u=()=>Vn(a).then(()=>d.dispose()),d=He.factory(i.fn,u);i.fn=c=>(l(),h&&h.running?d.track(c):o.track(c))}return i}function Xe(e){let n=h&&h.running;if((n?e.tState:e.state)===0)return;if((n?e.tState:e.state)===Ke)return lt(e);if(e.suspense&&ue(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<at);){if(n&&h.disposed.has(e))return;(n?e.tState:e.state)&&t.push(e)}for(let r=t.length-1;r>=0;r--){if(e=t[r],n){let s=e,i=t[r+1];for(;(s=s.owner)&&s!==i;)if(h.disposed.has(s))return}if((n?e.tState:e.state)===pe)Fe(e);else if((n?e.tState:e.state)===Ke){let s=re;re=null,ye(()=>lt(e,t[0]),!1),re=s}}}function ye(e,n){if(re)return e();let t=!1;n||(re=[]),ce?t=!0:ce=[],at++;try{let r=e();return qn(t),r}catch(r){t||(ce=null),re=null,ut(r)}}function qn(e){if(re&&(Re&&h&&h.running?Gn(re):rn(re),re=null),e)return;let n;if(h){if(!h.promises.size&&!h.queue.size){let r=h.sources,s=h.disposed;ce.push.apply(ce,h.effects),n=h.resolve;for(let i of ce)"tState"in i&&(i.state=i.tState),delete i.tState;h=null,ye(()=>{for(let i of s)Ne(i);for(let i of r){if(i.value=i.tValue,i.owned)for(let l=0,a=i.owned.length;l<a;l++)Ne(i.owned[l]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}qt(!1)},!1)}else if(h.running){h.running=!1,h.effects.push.apply(h.effects,ce),ce=null,qt(!0);return}}let t=ce;ce=null,t.length&&ye(()=>Wt(t),!1),n&&n()}function rn(e){for(let n=0;n<e.length;n++)Xe(e[n])}function Gn(e){for(let n=0;n<e.length;n++){let t=e[n],r=h.queue;r.has(t)||(r.add(t),Re(()=>{r.delete(t),ye(()=>{h.running=!0,Xe(t)},!1),h&&(h.running=!1)}))}}function zn(e){let n,t=0;for(n=0;n<e.length;n++){let r=e[n];r.user?e[t++]=r:Xe(r)}if(q.context){if(q.count){q.effects||(q.effects=[]),q.effects.push(...e.slice(0,t));return}kt()}for(q.effects&&(q.done||!q.count)&&(e=[...q.effects,...e],t+=q.effects.length,delete q.effects),n=0;n<t;n++)Xe(e[n])}function lt(e,n){let t=h&&h.running;t?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let s=e.sources[r];if(s.sources){let i=t?s.tState:s.state;i===pe?s!==n&&(!s.updatedAt||s.updatedAt<at)&&Xe(s):i===Ke&&lt(s,n)}}}function sn(e){let n=h&&h.running;for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t];(n?!r.tState:!r.state)&&(n?r.tState=Ke:r.state=Ke,r.pure?re.push(r):ce.push(r),r.observers&&sn(r))}}function Ne(e){let n;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){let i=s.pop(),l=t.observerSlots.pop();r<s.length&&(i.sourceSlots[l]=r,s[r]=i,t.observerSlots[r]=l)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)Ne(e.tOwned[n]);delete e.tOwned}if(h&&h.running&&e.pure)on(e,!0);else if(e.owned){for(n=e.owned.length-1;n>=0;n--)Ne(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}h&&h.running?e.tState=0:e.state=0}function on(e,n){if(n||(e.tState=0,h.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)on(e.owned[t])}function $t(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function zt(e,n,t){try{for(let r of n)r(e)}catch(r){ut(r,t&&t.owner||null)}}function ut(e,n=R){let t=Vt&&n&&n.context&&n.context[Vt],r=$t(e);if(!t)throw r;ce?ce.push({fn(){zt(r,t,n)},state:pe}):zt(r,t,n)}function Ct(e){if(typeof e=="function"&&!e.length)return Ct(e());if(Array.isArray(e)){let n=[];for(let t=0;t<e.length;t++){let r=Ct(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Yt(e){for(let n=0;n<e.length;n++)e[n]()}function Kn(e,n,t={}){let r=[],s=[],i=[],l=0,a=n.length>1?[]:null;return Oe(()=>Yt(i)),()=>{let o=e()||[],u=o.length,d,c;return o[jn],ue(()=>{let m,w,S,A,P,k,L,N,O;if(u===0)l!==0&&(Yt(i),i=[],r=[],s=[],l=0,a&&(a=[])),t.fallback&&(r=[Yn],s[0]=je(b=>(i[0]=b,t.fallback())),l=1);else if(l===0){for(s=new Array(u),c=0;c<u;c++)r[c]=o[c],s[c]=je(g);l=u}else{for(S=new Array(u),A=new Array(u),a&&(P=new Array(u)),k=0,L=Math.min(l,u);k<L&&r[k]===o[k];k++);for(L=l-1,N=u-1;L>=k&&N>=k&&r[L]===o[N];L--,N--)S[N]=s[L],A[N]=i[L],a&&(P[N]=a[L]);for(m=new Map,w=new Array(N+1),c=N;c>=k;c--)O=o[c],d=m.get(O),w[c]=d===void 0?-1:d,m.set(O,c);for(d=k;d<=L;d++)O=r[d],c=m.get(O),c!==void 0&&c!==-1?(S[c]=s[d],A[c]=i[d],a&&(P[c]=a[d]),c=w[c],m.set(O,c)):i[d]();for(c=k;c<u;c++)c in S?(s[c]=S[c],i[c]=A[c],a&&(a[c]=P[c],a[c](c))):s[c]=je(g);s=s.slice(0,l=u),r=o.slice(0)}return s});function g(m){if(i[c]=m,a){let[w,S]=Y(c);return a[c]=S,n(o[c],w)}return n(o[c])}}}function M(e,n){if(Wn&&q.context){let t=q.context;kt(Dn());let r=ue(()=>e(n||{}));return kt(t),r}return ue(()=>e(n||{}))}function Ce(e){let n="fallback"in e&&{fallback:()=>e.fallback};return H(Kn(()=>e.each,e.children,n||void 0))}function Q(e){let n=e.keyed,t=H(()=>e.when,void 0,void 0),r=n?t:H(t,void 0,{equals:(s,i)=>!s==!i});return H(()=>{let s=r();if(s){let i=e.children;return typeof i=="function"&&i.length>0?ue(()=>i(n?s:()=>{if(!ue(r))throw ln("Show");return t()})):i}return e.fallback},void 0,void 0)}function dt(e){let n=Bn(()=>e.children),t=H(()=>{let r=n(),s=Array.isArray(r)?r:[r],i=()=>{};for(let l=0;l<s.length;l++){let a=l,o=s[l],u=i,d=H(()=>u()?void 0:o.when,void 0,void 0),c=o.keyed?d:H(d,void 0,{equals:(g,m)=>!g==!m});i=()=>u()||(c()?[a,d,o]:void 0)}return i});return H(()=>{let r=t()();if(!r)return e.fallback;let[s,i,l]=r,a=l.children;return typeof a=="function"&&a.length>0?ue(()=>a(l.keyed?i():()=>{if(ue(t)()?.[0]!==s)throw ln("Match");return i()})):a},void 0,void 0)}function De(e){return e}var q,Hn,Kt,si,jn,oi,ot,Vt,Wt,pe,Ke,Xt,xt,R,h,Re,He,G,re,ce,at,li,qt,We,Yn,Wn,ln,Ze=jt(()=>{q={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Rt(this.context.count)},getNextContextId(){return Rt(this.context.count++)}};Hn=!1,Kt=(e,n)=>e===n,si=Symbol("solid-proxy"),jn=Symbol("solid-track"),oi=Symbol("solid-dev-component"),ot={equals:Kt},Vt=null,Wt=rn,pe=1,Ke=2,Xt={owned:null,cleanups:null,context:null,owner:null},xt={},R=null,h=null,Re=null,He=null,G=null,re=null,ce=null,at=0;[li,qt]=Y(!1);Yn=Symbol("fallback");Wn=!1;ln=e=>`Stale read from <${e}>.`});function Jn(e,n,t){let r=t.length,s=n.length,i=r,l=0,a=0,o=n[s-1].nextSibling,u=null;for(;l<s||a<i;){if(n[l]===t[a]){l++,a++;continue}for(;n[s-1]===t[i-1];)s--,i--;if(s===l){let d=i<r?a?t[a-1].nextSibling:t[i-a]:o;for(;a<i;)e.insertBefore(t[a++],d)}else if(i===a)for(;l<s;)(!u||!u.has(n[l]))&&n[l].remove(),l++;else if(n[l]===t[i-1]&&t[a]===n[s-1]){let d=n[--s].nextSibling;e.insertBefore(t[a++],n[l++].nextSibling),e.insertBefore(t[--i],d),n[s]=t[i]}else{if(!u){u=new Map;let c=a;for(;c<i;)u.set(t[c],c++)}let d=u.get(n[l]);if(d!=null)if(a<d&&d<i){let c=l,g=1,m;for(;++c<s&&c<i&&!((m=u.get(n[c]))==null||m!==d+g);)g++;if(g>d-a){let w=n[l];for(;a<d;)e.insertBefore(t[a++],w)}else e.replaceChild(t[a++],n[l++])}else l++;else n[l++].remove()}}}function _t(e,n,t,r={}){let s;return je(i=>{s=i,n===document?e():p(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{s(),n.textContent=""}}function V(e,n,t,r){let s,i=()=>{let a=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=e,t?a.content.firstChild.firstChild:r?a.firstChild:a.content.firstChild},l=n?()=>ue(()=>document.importNode(s||(s=i()),!0)):()=>(s||(s=i())).cloneNode(!0);return l.cloneNode=l,l}function ht(e,n=window.document){let t=n[an]||(n[an]=new Set);for(let r=0,s=e.length;r<s;r++){let i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,Zn))}}function ve(e,n,t){Lt(e)||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function gt(e,n){Lt(e)||(n==null?e.removeAttribute("class"):e.className=n)}function Qe(e,n,t,r){if(r)Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t;else if(Array.isArray(t)){let s=t[0];e.addEventListener(n,t[0]=i=>s.call(e,t[1],i))}else e.addEventListener(n,t,typeof t!="function"&&t)}function Et(e,n,t={}){let r=Object.keys(n||{}),s=Object.keys(t),i,l;for(i=0,l=s.length;i<l;i++){let a=s[i];!a||a==="undefined"||n[a]||(cn(e,a,!1),delete t[a])}for(i=0,l=r.length;i<l;i++){let a=r[i],o=!!n[a];!a||a==="undefined"||t[a]===o||!o||(cn(e,a,!0),t[a]=o)}return t}function qe(e,n,t){if(!n)return t?ve(e,"style"):n;let r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let s,i;for(i in t)n[i]==null&&r.removeProperty(i),delete t[i];for(i in n)s=n[i],s!==t[i]&&(r.setProperty(i,s),t[i]=s);return t}function Ge(e,n,t){return ue(()=>e(n,t))}function p(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return ft(e,n,r,t);K(s=>ft(e,n(),s,t),r)}function Lt(e){return!!q.context&&!q.done&&(!e||e.isConnected)}function cn(e,n,t){let r=n.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],t)}function Zn(e){if(q.registry&&q.events&&q.events.find(([o,u])=>u===e))return;let n=e.target,t=`$$${e.type}`,r=e.target,s=e.currentTarget,i=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),l=()=>{let o=n[t];if(o&&!n.disabled){let u=n[`${t}Data`];if(u!==void 0?o.call(n,u,e):o.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&i(n.host),!0},a=()=>{for(;l()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),q.registry&&!q.done&&(q.done=_$HY.done=!0),e.composedPath){let o=e.composedPath();i(o[0]);for(let u=0;u<o.length-2&&(n=o[u],!!l());u++){if(n._$host){n=n._$host,a();break}if(n.parentNode===s)break}}else a();i(r)}function ft(e,n,t,r,s){let i=Lt(e);if(i){!t&&(t=[...e.childNodes]);let o=[];for(let u=0;u<t.length;u++){let d=t[u];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():o.push(d)}t=o}for(;typeof t=="function";)t=t();if(n===t)return t;let l=typeof n,a=r!==void 0;if(e=a&&t[0]&&t[0].parentNode||e,l==="string"||l==="number"){if(i||l==="number"&&(n=n.toString(),n===t))return t;if(a){let o=t[0];o&&o.nodeType===3?o.data!==n&&(o.data=n):o=document.createTextNode(n),t=Be(e,t,r,o)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||l==="boolean"){if(i)return t;t=Be(e,t,r)}else{if(l==="function")return K(()=>{let o=n();for(;typeof o=="function";)o=o();t=ft(e,o,t,r)}),()=>t;if(Array.isArray(n)){let o=[],u=t&&Array.isArray(t);if(At(o,n,t,s))return K(()=>t=ft(e,o,t,r,!0)),()=>t;if(i){if(!o.length)return t;if(r===void 0)return t=[...e.childNodes];let d=o[0];if(d.parentNode!==e)return t;let c=[d];for(;(d=d.nextSibling)!==r;)c.push(d);return t=c}if(o.length===0){if(t=Be(e,t,r),a)return t}else u?t.length===0?un(e,o,r):Jn(e,t,o):(t&&Be(e),un(e,o));t=o}else if(n.nodeType){if(i&&n.parentNode)return t=a?[n]:n;if(Array.isArray(t)){if(a)return t=Be(e,t,r,n);Be(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function At(e,n,t,r){let s=!1;for(let i=0,l=n.length;i<l;i++){let a=n[i],o=t&&t[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=At(e,a,o)||s;else if(u==="function")if(r){for(;typeof a=="function";)a=a();s=At(e,Array.isArray(a)?a:[a],Array.isArray(o)?o:[o])||s}else e.push(a),s=!0;else{let d=String(a);o&&o.nodeType===3&&o.data===d?e.push(o):e.push(document.createTextNode(d))}}return s}function un(e,n,t=null){for(let r=0,s=n.length;r<s;r++)e.insertBefore(n[r],t)}function Be(e,n,t,r){if(t===void 0)return e.textContent="";let s=r||document.createTextNode("");if(n.length){let i=!1;for(let l=n.length-1;l>=0;l--){let a=n[l];if(s!==a){let o=a.parentNode===e;!i&&!l?o?e.replaceChild(s,a):e.insertBefore(s,t):o&&a.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}function er(e,n=!1){return n?document.createElementNS(Qn,e):document.createElement(e)}function mt(e){let{useShadow:n}=e,t=document.createTextNode(""),r=()=>e.mount||document.body,s=ct(),i,l=!!q.context;return Ie(()=>{l&&(ct().user=l=!1),i||(i=Qt(s,()=>H(()=>e.children)));let a=r();if(a instanceof HTMLHeadElement){let[o,u]=Y(!1),d=()=>u(!0);je(c=>p(a,()=>o()?c():i(),null)),Oe(d)}else{let o=er(e.isSVG?"g":"div",e.isSVG),u=n&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return t.parentNode},configurable:!0}),p(u,i),a.appendChild(o),e.ref&&e.ref(o),Oe(()=>a.removeChild(o))}},void 0,{render:!l}),t}var Xn,bi,an,yi,Qn,Z=jt(()=>{Ze();Ze();Xn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],bi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Xn]);an="_$DX_DELEGATE";yi=Symbol(),Qn="http://www.w3.org/2000/svg"});var mn=On((Fi,gn)=>{Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Ze();var pt=V("<div>"),tr=V("<div class=loading>LOADING"),nr=V("<div><div>"),rr=V('<button class=common-select-button><span class=common-select-text></span><span class=" common-select-icon "><svg viewBox="0 0 1024 1024"version=1.1 xmlns=http://www.w3.org/2000/svg width=1em height=1em><path d="M908.7 363.7L554 751.6c-10.6 12.1-25.9 19-41.9 19-16.1 0-31.3-6.9-41.9-19L115.4 363.7c-17.3-18.3-22.7-44.9-13.7-68.5 8.9-23.5 30.6-40 55.7-42.2h709.1c25.2 2.1 46.9 18.5 55.8 42.1 9 23.7 3.7 50.2-13.6 68.6z m0 0"fill=currentColor>'),ir=V('<dialog class=" common-select-popover ">'),sr=async e=>{let n=document.getElementById("app");(()=>{try{return window.WebAssembly!=null&&window.HTMLCanvasElement!=null&&window.HTMLDialogElement!=null&&typeof HTMLDialogElement.prototype.showModal=="function"&&window.OffscreenCanvas!=null&&navigator.getGamepads!=null}catch{return!1}})()?_t(e,n):open("/nomaintenace.html","self")},or=()=>window.navigator.userAgent.toLowerCase().includes("mobile"),lr=e=>n=>{let t,r=clearTimeout,s=setTimeout;return(...i)=>{t=(t&&r(t),s(()=>n(...i),e))}},fn=e=>{let n=!1;return(...t)=>{n=(!n&&e(...t),!0)}},ar=e=>(()=>{var n=pt();return K(t=>{var r=e.class??"markdown",s=e.body;return r!==t.e&&gt(n,t.e=r),s!==t.t&&(n.innerHTML=t.t=s),t},{e:void 0,t:void 0}),n})(),cr=()=>M(mt,{get children(){return tr()}}),ur=e=>{let n=new AudioContext({latencyHint:0}),t=2,r=new Uint8Array(0),s=(l,a,o)=>{if(l)if(a+o>l.length){let u=new Float32Array(2*(a+o));return u.set(l,0),u}else return l;else return new Float32Array(o*6)};return new WritableStream({start(l){this.pooled=r,this.srcnode=this.prepareSourceNode(),this.iswait=!1},source(){let l=this.srcnode;return l||(l=this.prepareSourceNode()),this.srcnode=null,l},write(l,a){let o;if(l.byteLength?(o=new Uint8Array(this.pooled.byteLength+l.byteLength),this.pooled.byteLength>0&&o.set(this.pooled,0),o.set(new Uint8Array(l.buffer,l.byteOffset,l.byteLength),this.pooled.byteLength)):o=this.pooled,this.iswait)this.srcnode||(this.srcnode=this.prepareSourceNode()),this.preprocess(o);else{let u;if(this.cursor)o.byteLength>200&&this.preprocess(o),u=n.createBuffer(t,this.cursor,e),u.copyToChannel(this.left,0,0),u.copyToChannel(this.right,1,0),this.left=this.right=this.cursor=void 0;else{let c=o.byteLength>>3;u=n.createBuffer(t,c,e);let g=u.getChannelData(0),m=u.getChannelData(1),w=new Float32Array(o.buffer,0,c*t);for(let S=0;S<c;++S){let A=S<<1;g[S]=w[A],m[S]=w[A+1]}this.pooled=this.pooled.slice(w.byteLength)}let d=this.source();d.buffer=u,d.start(),this.iswait=!0}},preprocess(l){let a=l.byteLength>>3,o=this.cursor??0,u=s(this.left,o,a),d=s(this.right,o,a),c=new Float32Array(l.buffer,0,a*t);for(let g=0;g<a;++g,++o){let m=g<<1;u[o]=c[m],d[o]=c[m+1]}this.cursor=o,this.left=u,this.right=d,this.pooled=l.slice(c.byteLength)},prepareSourceNode(){let l=n.createBufferSource();return l.onended=()=>{this.iswait=!1,(this.pooled.byteLength>0||this.cursor)&&this.write(r,null)},l.connect(n.destination),l}})},dr=e=>new Promise(n=>{e.click(),e.onchange=()=>{let t=e.files[0];n(t)}}),fr=e=>(()=>{var n=nr(),t=n.firstChild;return K(r=>{var s=e.class,i=`${e.percent.toFixed(3)}%`,l=e.color;return s!==r.e&&gt(n,r.e=s),i!==r.t&&((r.t=i)!=null?t.style.setProperty("width",i):t.style.removeProperty("width")),l!==r.a&&((r.a=l)!=null?t.style.setProperty("background",l):t.style.removeProperty("background")),r},{e:void 0,t:void 0,a:void 0}),n})(),hn=e=>{let n=Zt(()=>e.selected);return(()=>{var t=pt();return p(t,M(Ce,{get each(){return e.options},children:r=>(()=>{var s=pt();return s.$$click=()=>!r.disabled&&e.handler(r),p(s,()=>r.label),K(i=>{var l={[e.styled[1]]:!0,[e.styled[2]]:n(r.value)},a=r.label,o=r.disabled;return i.e=Et(s,l,i.e),a!==i.t&&ve(s,"title",i.t=a),o!==i.a&&(s.disabled=i.a=o),i},{e:void 0,t:void 0,a:void 0}),s})()})),K(()=>gt(t,e.styled[0])),t})()},hr=e=>{let n=H(()=>e.keyForText??"text"),t=H(()=>e.keyForValue??"value"),r=H(()=>e.placeholder??"---"),s=null,i=null,l=()=>{s?.open&&s.close(),i&&i()},a=c=>{l(),e.onChange&&e.onChange(c)},o=H(()=>{let c=e.options.find(g=>g[t()]===e.value);return c?c[n()]:null}),u=c=>{let g=c.currentTarget;if(s.open)l();else{let m=e.locate?e.locate(g):g.getBoundingClientRect();s.style.top=`${m.bottom+2}px`,s.style.left=`${m.left}px`,s.show(),setTimeout(()=>d(g))}},d=c=>{let g=m=>{!s.contains(m.target)&&!c.contains(m.target)&&l()};i&&i(),i=fn(()=>window.removeEventListener("mousedown",g)),window.addEventListener("mousedown",g)};return[(()=>{var c=rr(),g=c.firstChild;return c.$$click=u,p(g,M(Q,{get when(){return o()},get fallback(){return r()},get children(){return o()}})),K(()=>g.classList.toggle("common-select-empty",o()===null)),c})(),(()=>{var c=ir(),g=s;return typeof g=="function"?Ge(g,c):s=c,p(c,M(hn,{styled:["common-select-list","common-select-item","common-select-value"],get selected(){return e.value},handler:a,get options(){return e.options.map(m=>({label:m[n()],value:m[t()]}))}})),c})()]},dn=e=>{let n=e-e%8;n<e&&(n+=8);let t=new ArrayBuffer(n>>2),r=new Uint8Array(t,0,n>>3),s=new Uint8Array(t,n>>3,n>>3),i=(o,u)=>{let d=o>>3;u[d]|=1<<(o&7)},l=(o,u)=>{let d=o>>3;u[d]&=~(1<<(o&7))},a=(o,u)=>{let d=o>>3;return!!(u[d]&1<<(o&7))};return{lock:(o,u)=>{if(o>e)throw new RangeError(`indexing ${o} is out of range ${e}`);if(a(o,s))throw new ReferenceError(`indexing ${o} is deleted before your action`);if(a(o,r)){if(u)return!0;throw new TypeError(`indexing ${o} is locking before your action`)}else i(o,r)},islock:o=>{if(o>e)throw new RangeError(`indexing ${o} is out of range ${e}`);return a(o,r)},unlock:o=>{if(o>e)throw new RangeError(`indexing ${o} is out of range ${e}`);l(o,r)},delete:o=>{if(o>e)throw new RangeError(`indexing ${o} is out of range ${e}`);i(o,s)},exist:o=>{if(o>e)throw new RangeError(`indexing ${o} is out of range ${e}`);return a(o,s)},lookup:()=>{for(let o=0;o<n;++o)if(s[o]!=255&&r[o]!=255)for(let u=0;u<8;++u){let d=1<<u;if(!(s[o]&d)&&!(r[o]&d)){let c=o*8+u;return c<e?c:-1}}return-1}}},gr=e=>{let n=new Array(e).fill(null),t=0,r=0;return{fifo_push:l=>{l!=null&&t+1!=r&&(n[t]=l,t=(t+1)%e)},fifo_pop:()=>{let l=n[r];return l&&(n[r]=null,r=(r+1)%e),l}}},mr=e=>{let n=H(()=>e.duration??5e3),t=H(()=>e.type=="error"?"common-element-toast-error":"common-element-toast-info"),r=H(()=>20+e.order*100);return(()=>{var s=pt();return p(s,()=>e.text),K(i=>{var l={"common-element-toast":!0,[t()]:!0},a=`bottom: ${r()}px; --aniduration: ${n()}ms;`;return i.e=Et(s,l,i.e),i.t=qe(s,a,i.t),i},{e:void 0,t:void 0}),s})()},et=null,pr=e=>{let r,s,i;if(typeof e=="string"?r=e:typeof e=="object"?(r=String(e.text),s=e.type,i=e.duration):r=String(e),!et){let l=document.createElement("div");l.id="toast",l.className="common-layout-toast",document.body.appendChild(l);let a=dn(5),{fifo_push:o,fifo_pop:u}=gr(40),d=g=>{o(g),c()},c=()=>{let g=a.lookup();if(g<0)return;let m=u();if(!m)return;a.lock(g);let w=document.createElement("div");et.container.appendChild(w);let{text:S,Target:A,type:P,duration:k}=m;setTimeout(()=>{a.unlock(g),et.container.removeChild(w),requestAnimationFrame(c)},k??5e3),_t(()=>M(A,{order:g,text:S,type:P,duration:k}),w)};et={container:l,exchanger:dn(5),schedule:d}}et.schedule({Target:mr,type:s,duration:i,text:r})};gn.exports={main:sr,Loading:cr,Markdown:ar,Progress:fr,debounce:lr,onlyonce:fn,selectFile:dr,Hex:e=>e.toString(16).padStart(8,"0"),Menu:hn,Select:hr,toast:pr,DUMMY_HREF:"#!",isMobileDev:or(),streamToAudio:ur};ht(["click"])});Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Z();Ze();var oe=Fn(mn());var Tt=e=>new Promise((n,t)=>{let r=new DataView(e.buffer),s=4997953,i=c=>!c&&t(new Error("broken"));i(r.byteLength>8),i((r.getUint32(0,!0)&16777215)==s);let l=r.getUint16(4,!0);i(r.byteLength>l*3+(l+1)*2+8);let a=r.getUint16(8+l*(3+2),!0);i(r.byteLength>l*3+(l+1)*2+a*8+8);let o=[],u=(c,g,m)=>(w,S)=>{let A=r.getUint32(g+(S+c)*8,!0),P=r.getUint32(g+(S+c)*8+4,!0),k=m|A&255,L=(A&-256)>>3,N=o.length;return o.push(L),{set_id:P,serial:k,offset:N,holes:[],status:1}},d=new Map;for(let c=0;c<l;++c){let g=8+3*c,m=8+l*3+c*2,w=8+l*5+2,S=r.getUint16(g,!1)<<16|r.getUint8(g+2)<<8,A=r.getUint16(m,!0),k=r.getUint16(m+2,!0)-A,L=new Array(k).fill(0).map(u(A,w,S));d.set(S,L),L.reduce((N,O)=>(N.has(O.serial)?N.get(O.serial)?.push(O):N.set(O.serial,[O]),N),d)}n({cheats:d,trunks:o,source:e})}),pn=(e,n,t,r)=>{let s=t[e.offset],i=new DataView(n.buffer),l=i.getUint16(s,!0),a=s+2+12*l,o=new Map,u=new TextDecoder,d=(w,S,A)=>{let P=a+w,k=P+1;for(;n[k]>0;)++k;return u.decode(n.slice(P,k))},c=(w,S,A)=>{let P=A===2?(k,L,N)=>i.getUint16(k+L*2,!0):(k,L,N)=>i.getUint32(k+L*4,!0);return new Array(S).fill(w).map(P)};for(let w=0;w<l;++w){let[S,A,P]=c(s+2+w*12,3,4),k;S>65535?k=c(s+A,P,4):P>0?k=c(s+A,P,2).map(d):k=[r.defaultKey],o.set(S,k)}let m=o.get(0).map((w,S,A)=>{let P=o.get(S+1);return{label:w,keys:P.map((k,L,N)=>{let O=o.get(L+1<<16|S+1),b=[];for(let v=0;v<O.length;v+=2){let U=O[v],C=O[v+1]>>8,_=O[v+1]&255;b=b.concat(new Array(C).fill(U).map((y,E,x)=>({addr:y+E,val:_})))}return{label:k,value:b}})}});e.holes=m,e.status=2},te={Title:1,Label:2,Value:3,Index:4,Paste:5,Throw:6,Spawn:7,BatAN:8,BatIP:9},$e=(e,n)=>({t:e,a:n}),bn=(e,n)=>{let t={label:e.label,keys:window.structuredClone(e.keys)};for(let r of n)switch(r.t){case te.Title:t.label=r.a;continue;case te.Label:let[s,i]=r.a;t.keys[s].label=i;continue;case te.Value:let[l,a,o]=r.a;if(isNaN(o))t.keys[l].value=t.keys[l].value.filter(L=>L.addr!==a);else{let L=t.keys[l].value.find(N=>N.addr===a);L?L.val=o:t.keys[l].value.push({addr:a,val:o})}continue;case te.Index:let[u,d]=r.a,c=t.keys[u],g=L=>L!==c,m=d>u?d+1:d;t.keys=[...t.keys.slice(0,m).filter(g),c,...t.keys.slice(m).filter(g)];continue;case te.Paste:let[w,S]=r.a,A=JSON.parse(S);t.keys[w]=A;continue;case te.Throw:let P=r.a;t.keys.splice(P,1);continue;case te.Spawn:t.keys.push({label:r.a,value:[]});continue;case te.BatAN:r.a.forEach(L=>L.trimStart().trimEnd().length>0&&t.keys.push({label:L,value:[]}));case te.BatIP:if(t.keys.length<256){let L=t.keys[0];if(L.value.length==1)for(let N=1;N<t.keys.length;++N)t.keys[N].value=[{addr:L.value[0].addr,val:(L.value[0].val+N)%256}]}else{let L=t.keys[0];if(L.value.length==2)for(let N=1;N<t.keys.length;++N)t.keys[N].value=[{addr:L.value[0].addr,val:(L.value[0].val+N)%256},{addr:L.value[1].addr,val:Math.floor((L.value[0].val+N)/256)}]}default:break}return t};var br=e=>{let n=(b,v,U)=>{let C=v.length,_=U-C;for(let y=0;y<_;++y){if(b[y+C]!=0)continue;let E=!0,x=0,$=y+x;for(;x<C;++x,++$)if(b[$]!=v[x]){E=!1;break}if(E)return y}return-1},t=(b,v,U)=>{let _=b.map(({addr:y,val:E})=>[y,E]).sort((y,E)=>y[0]-E[0]).reduce((y,[E,x])=>{if(v.set(E,U),y.length==0)y.push({addr:E,value:x,count:1});else{let $=y.at(-1);$.value==x&&$.addr+$.count==E?++$.count:y.push({addr:E,value:x,count:1})}return y},[]);return Uint32Array.from(_.reduce((y,E)=>[...y,E.addr,E.count<<8|E.value],[]))},r=(b,v,U,C)=>{let _=(D,F)=>F*Math.floor((D+F-1)/F),y=b[0].buffer.byteLength,E=2+b.length*y,x=E+v.buffer.byteLength,$=x+U.buffer.byteLength,ne=$+C.buffer.byteLength,B=new ArrayBuffer(_(ne,32)),ee=new DataView(B);return ee.setUint16(0,b.length,!0),b.forEach((D,F)=>{let j=2+F*y;ee.setUint32(j,D[0],!0),ee.setUint32(j+4,D[1]+(D[0]>65535?$:x),!0),ee.setUint32(j+8,D[2],!0)}),new Uint8Array(B,E,v.length).set(v,0),new Uint8Array(B,x,U.buffer.byteLength).set(new Uint8Array(U.buffer),0),new Uint8Array(B,$,C.buffer.byteLength).set(new Uint8Array(C.buffer),0),new Uint8Array(B)},s=new TextEncoder,i=e.holes,l=[],a=[],o=[],u=(b,v)=>b|v<<16,d=(b,v)=>({id:b,data:v}),c=(b,v,U,C)=>{v.forEach(({label:_,value:y},E)=>{U.push(_),C&&o.push(_),l.push(d(u(b,E+1),y))})};i.forEach((b,v)=>{a.push(b.label),o.push(b.label);let U=[];c(v+1,b.keys,U,b.keys.length>1);let C=d(u(v+1,0),U);l.push(C)}),l.push(d(u(0,0),a)),l.sort((b,v)=>b.id-v.id),o.sort((b,v)=>v.length-b.length);let g=new Uint8Array(1024),m=new Uint16Array(128),w=new Uint32Array(4096),S={},A={str:0,cmd:0,idx:0},P=b=>{let v=C=>{let _=A.str,y=_+C.length+1;if(y>g.length){let E=new Uint8Array(Math.min(g.length*2,_+C.length+1024));E.set(g,0),E.set(C,_),g=E}else g.set(C,_);return A.str=y,_},U=C=>{if(S[C]!=null)return S[C];let _=s.encode(C),y=n(g,_,A.str);return y=y<0?v(_):y,S[C]=y,y};return b.map(U)},k=b=>{if(b.length==0)return 0;if(A.str>65535)throw new RangeError("string table is too big.");let v=A.idx,U=v+b.length;if(U>m.length){let C=new Uint16Array(Math.max(U+128,m.length*2));C.set(m,0),C.set(b,v),m=C}else m.set(b,v);return A.idx=U,v*2},L=b=>{let v=A.cmd,U=v+b.length;if(U>w.length){let C=new Uint32Array(Math.max(w.length*8,U));C.set(w,0),C.set(b,v),w=C}else w.set(b,v);return A.cmd=U,v*4};l.length>65535&&console.warn(`entry \u6570\u91CF\u8D85\u8FC7\u4E0A\u9650[game=${e.serial}]`);let N=new Map;P(o);let O=l.map(b=>{let{id:v,data:U}=b;if(v<65536){let C=v==0?P(U):P(U.length>1?U:[]),_=k(C);return Uint32Array.of(v,_,C.length)}else{let C=t(U,N,v&65535),_=L(C);return Uint32Array.of(v,_,C.length)}});return w=w.slice(0,A.cmd),g=g.slice(0,A.str),m=m.slice(0,A.idx),e.set_id=w.reduce((b,v)=>b^v,e.serial),e.offset=r(O,g,m,w),e.offset.byteLength},yn=e=>{let n=e.cheats,t=x=>String.fromCharCode(x>>24&255,x>>16&255,x>>8&255,x&255),r=x=>{let $=x.offset,ne=e.trunks[$],B=e.trunks[$+1];return e.source.slice(ne,B)},s=x=>x.status===3||x.status===0?!1:x.status===4?x.holes.length>0:!0,i=Array.from(n.keys()).filter(x=>(x&255)!=0).map(x=>{let ne=n.get(x)?.filter(s).map(B=>{let ee,xe;return B.status===4?(br(B),xe=B.set_id,ee=B.offset):(B.status===1||B.status===2)&&(xe=B.set_id,ee=r(B)),{id:xe,bin:ee}})??[];return{serial:t(x),cheat:ne}});i.sort((x,$)=>x.serial.localeCompare($.serial)),console.info(`valid rom has ${i.length}`);let l=new TextEncoder,a=new WeakMap,o=10240,u=(x,$)=>$*Math.floor((x+$-1)/$),d=(x,$)=>{let ne=a.get(x),B=(ne||0)+$.length;if(B>x.length){let ee=new(Object.getPrototypeOf(x)).constructor(u(B,o)*2);return ee.set(x,0),ee.set($,ne),a.set(ee,B),ee}else return x.set($,ne),a.set(x,B),x},c=x=>x.reduce(($,{serial:ne,cheat:B},ee,xe)=>{let le=ne.slice(0,-1),we=a.get($[1]);return le!=$[4]&&(we>0&&$[2]-$[1].at(we-1)>$[3]&&($[3]=$[2]-$[1].at(we-1)),$[0]=d($[0],l.encode(le)),$[1]=d($[1],[$[2]]),$[4]=le),$[2]=$[2]+B.length,ee+1==xe.length&&($[2]-$[1].at(we-1)>$[3]&&($[3]=$[2]-$[1].at(we-1)),$[1]=d($[1],[$[2]])),$},[d(new Uint8Array(o),[]),d(new Uint16Array(o),[]),0,0,""]),g=(x,$)=>x.reduce((ne,{cheat:B,serial:ee})=>{let xe=ee.charCodeAt(3);return B.reduce((le,{id:we,bin:D})=>{let F=le[2]+a.get(le[1]);return le[0]=d(le[0],[xe|F<<3,we]),le[1]=d(le[1],D),le},ne)},[d(new Uint32Array(o),[]),d(new Uint8Array(o),[]),u($,32)]),m=(x,...$)=>{for(let ne of $){let B=x[ne];x[ne]=B.slice(0,a.get(B))}return x},[w,S,A,P]=m(c(i),0,1),[k,L]=m(g(i,8+w.length+S.length*2+A*8),0,1);console.info(`name: ${w.length} cheats: ${A} maxl: ${P}`);let N=8,O=N+w.length,b=O+S.length*2,v=u(b+k.length*4,32),U=v+L.length,C=new ArrayBuffer(U),_=new DataView(C);_.setUint8(0,"A".charCodeAt(0)),_.setUint8(1,"C".charCodeAt(0)),_.setUint8(2,"L".charCodeAt(0)),_.setUint8(3,1);let y=w.length/3;_.setUint16(4,y,!0),_.setUint16(6,P,!0);let E=new Uint8Array(C);return E.set(w,N),E.set(new Uint8Array(S.buffer),O),E.set(new Uint8Array(k.buffer),b),E.set(L,v),E},wn=(e,n,t)=>{let r=e.cheats.get(n),s=t.filter(a=>a.status===0);r!==void 0?s.forEach(a=>r?.push(a)):e.cheats.set(n,t);let i=n&4294967040,l=e.cheats.get(i);if(l!==void 0){s.forEach(o=>l?.push(o));let a=l.reduce((o,u,d)=>(o.set(u,d),o),new WeakMap);l?.sort((o,u)=>o.serial!==u.serial?o.serial-u.serial:a.get(o)-a.get(u))}else e.cheats.set(i,t.slice());return e};function vn(e,n){let t=n.toLowerCase(),r=n.toUpperCase();return Object.entries(e).filter(s=>{let[i,l]=s;return i.startsWith(r)?!0:l.file.toLowerCase().includes(t)})}var yr=V('<div class=" caches ">'),wr=V('<div class=" sources "><div class=prompt></div><div class=splitter></div><div class=option><input type=file></div><div class=option>'),vr=V('<div class=" fullname "><h3>'),xr=V('<div class=" newtag ">'),kr=V('<div class=" tags ">'),Mt=V('<div class=" acti ">'),$r=V('<div class=" acts "><div class=" acti "></div><div class=" acti "></div><div class=" acti ">'),Cr=V('<div class=" cheats "><div><div class=" func "><div class="hole empty"></div><div class=" keys "><div class=" new ">'),Sr=V('<div class=" editor "><div class=" gamelist "><button class=" merge "></button><div class=" gamestitle "><span></span><input type=search></div></div><div class=" cheatlist ">'),Ar=V('<span class=" notag ">'),_r=V("<div class=chtag>-"),Er=V('<div class=" func "><div class=" hole "><span class=" cnt "></span><button class=expand></button></div><div class=" keys ">'),Lr=V('<div class=" key ">'),Tr=V('<div class=" published "><div class=" vscroll ">'),Mr=V('<div class=" cnt ">'),Ur=V('<div class=cart><div class=" image "><div class=" code "></div></div><div class=" info "><p class=" name ">'),Nr=V("<a>"),Ir=V("<span><input type=text maxlength=8><em>"),Ut=V("<button type=button>"),Or=V('<div class=" edit-hole "><div class=" htitle "><input type=search></div><div class=" hcontent "><div class=" keylist "><div class=" keyintro "></div><div class=" keytext "><a></a></div></div><div class=" details "><div class=" detailname "><input type=search></div><div class=" detailopts "><button></button><button></button><button></button></div><div class=" instset "><div class=" findaddr "><h4></h4></div><div class=" instdat "><table><thead><tr><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>a</th><th>b</th><th>c</th><th>d</th><th>e</th><th>f</th></tr></thead><tbody></tbody></table></div></div></div></div><div class=" hoption "><div class=" left "><button type=button></button></div><div class=" right "><button type=button></button><button type=submit></button></div></div><div class=" searchtips "style=display:none><pre>'),Pr=V('<em class=" hdrag "draggable>'),Fr=V("<div class=keytext><span>"),Dr=V('<em class=" hdrop ">'),Hr=V("<tr><td>"),jr=V("<tr><td>\u2026\u2026"),Rr=V("<td colspan=16>"),Vr=V("<td><input type=text maxlength=2>"),Br=V("<div class=error>"),ze={caching:0,pending:1,editing:2},qr=16*1024*1024,Nt=e=>e.split("").reduce((n,t,r)=>r<4?n|t.charCodeAt()<<24-r*8:n,0),Gr=e=>{let n=String.fromCharCode(e&255),t="\u5176\u4ED6\u8BED\u79CD";switch(n){case"C":t="\u5B98\u65B9\u4E2D\u6587";break;case"J":t="\u65E5\u6587\u7248";break;case"E":t="\u82F1\u6587\u7248";break;case"F":t="\u6CD5\u8BED\u7248";break;case"S":t="\u897F\u73ED\u7259\u8BED";break;case"I":t="\u610F\u5927\u5229\u8BED";break;case"D":t="\u5FB7\u8BED\u7248";break;case"K":t="\u97E9\u6587\u7248";break;case"X":case"P":t="\u6B27\u6D32\u8BED\u79CD";break;default:t=t}return t},zr=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:"/acl-editor/"})},Yr=(e,n)=>(e??"").replace(new RegExp("`([a-zA-Z][a-zA-Z0-9]*)`","g"),(t,r)=>n[r]??""),Kr="clipboard-key",tt=e=>{if(tt[e])return tt[e];let n=sessionStorage.getItem(e),[t,r]=Y(n);return Ie(()=>{let s=t();s?sessionStorage.setItem(e,s):sessionStorage.removeItem(e)}),tt[e]=[t,r],tt[e]},Wr=e=>{let[n,t]=Y(0),r=()=>{localStorage.setItem("ready","1"),location.reload()};return St(function s(){setTimeout(()=>{let i=n();i+1>100?r():(t(i+1),s())},125)}),(()=>{var s=yr();return p(s,M(oe.Progress,{class:"prog",color:"#ffc823",get percent(){return n()}})),s})()},Xr=e=>{let{ready:n,config:t}=e,r=H(()=>t().loader),[s,i]=Y(-1),l;return(()=>{var a=wr(),o=a.firstChild,u=o.nextSibling,d=u.nextSibling,c=d.firstChild,g=d.nextSibling;p(o,()=>r().title),p(u,M(Q,{get when(){return s()>0},get children(){return M(oe.Progress,{class:" bar ",color:"#FFC823",get percent(){return s()}})}})),d.$$click=()=>ti(l,i).then(n,()=>(0,oe.toast)({text:r().invalid,type:"error"})),p(d,()=>r().local,c);var m=l;return typeof m=="function"?Ge(m,c):l=c,c.style.setProperty("display","none"),Qe(g,"click",(0,oe.onlyonce)(()=>ni(r().stdfile,i).then(n)),!0),p(g,()=>r().remote),a})()},Jr=e=>{let{origin:n,config:t}=e,[r,s]=Y({}),[i,l]=Y(""),[a,o]=Y(0),[u,d]=Y([],{equals:!1}),[c,g]=Y(-1),[m,w]=Y(!1),[S,A]=Y([],{equals:!1}),[P,k]=Y(""),[L,N]=Y(""),O=H(()=>t().editor),b=H(()=>L()==""?Object.entries(r()):vn(r(),L())),v=H(()=>S().filter(D=>D.status!==3).map(({serial:D,status:F})=>F<<8|D&255));Ie(()=>{let D=n(),F=D.cheats.get(Nt(i()))??[];A(F);let j=F[a()];if(j)j.status===1&&pn(j,D.source,D.trunks,O()),d(j.holes);else{let W={offset:0,holes:[],status:0,serial:Nt(i())};F[a()]=W,d(W.holes)}});let U=D=>{l(D),o(0),g(-1),w(!1)},C=!1,_=0,y=(0,oe.debounce)(50)(()=>{C||(_=c(),g(-1)),window.removeEventListener("mouseup",y)});St(async()=>{let F=await(await fetch("/r/gbadb.json")).json();s(F)}),Oe(()=>{window.removeEventListener("mouseup",y)});let E="",x=null,$=(D,F)=>{if(F==c()){g(-1);return}let j=D.currentTarget,W=x.getBoundingClientRect();E=`right: 0.2rem; top: ${j.getBoundingClientRect().bottom+4-W.top+x.scrollTop}px;`,g(F),C=!0,setTimeout(()=>{C=!1,window.addEventListener("mouseup",y)},50)},ne=D=>F=>{D<0?d(W=>(W.push(F),W)):d(W=>(W[D]=F,W)),w(!1);let j=S()[a()];j.status==2?j.status=4:j.status==0&&(j.status=4,e.refresh(wn(n(),j.serial,S())))},B=()=>{let D=c();u()[D]===m()&&w(!1),D>=0&&(d(F=>(F.splice(D,1),F)),A(F=>(F[a()].status=4,F)))},ee=D=>()=>{let F=c(),j=F+D;(m()[F]===m()||m()[j]===m())&&w(!1),d(W=>{let Se=W[j];return W[j]=W[F],W[F]=Se,W}),A(W=>(W[a()].status=4,W))},xe=()=>{let D=u()[c()];k(JSON.stringify(D))},le=()=>{A(j=>(j[a()].status=4,j)),w(!1);let D=c(),F=JSON.parse(P());d(j=>(j.splice(D,0,F),j)),k("")},we=()=>{let D=Date.now(),F=yn(n());console.log("spend time",Date.now()-D);let j=new Blob([F.buffer],{type:"application/octet-stream"}),W=document.createElement("a"),Se=URL.createObjectURL(j);W.href=Se,W.download="gba.acl",W.click(),setTimeout(()=>URL.revokeObjectURL(Se),1e4)};return(()=>{var D=Sr(),F=D.firstChild,j=F.firstChild,W=j.nextSibling,Se=W.firstChild,nt=Se.nextSibling,bt=F.nextSibling;return j.$$click=we,p(j,()=>O().savefile),p(Se,()=>O().gamelist),nt.$$input=ke=>N(ke.target.value),p(F,M(Q,{get when(){return Object.keys(r()).length>0},get fallback(){return M(oe.Loading,{})},get children(){return M(Zr,{origin:n,config:O,games:b,val:i,udt:U,get fullsize(){return Object.keys(r()).length}})}}),null),p(bt,M(Q,{get when(){return r()[i()]},get children(){return[(()=>{var ke=vr(),se=ke.firstChild;return p(se,()=>r()[i()].file),ke})(),(()=>{var ke=kr();return p(ke,M(Q,{get when(){return H(()=>v().length>0)()&&!(v().length===1&&v().at(0)>>8===0)},get fallback(){return(()=>{var se=Ar();return p(se,()=>O().emptycheat),se})()},get children(){return[M(Ce,{get each(){return v()},children:(se,f)=>(()=>{var T=_r(),z=T.firstChild;return T.$$click=()=>(o(f()),w(!1)),p(T,()=>String.fromCharCode(f()+"A".charCodeAt()),z),p(T,()=>Gr(se),null),K(J=>{var de=a()===f(),ae=se>>8===4;return de!==J.e&&T.classList.toggle("curtag",J.e=de),ae!==J.t&&T.classList.toggle("edited",J.t=ae),J},{e:void 0,t:void 0}),T})()}),(()=>{var se=xr();return se.$$click=()=>(o(S().length),w(!1)),p(se,()=>O().baktips),se})()]}})),ke})(),(()=>{var ke=Cr(),se=ke.firstChild,f=se.firstChild,T=f.firstChild,z=T.nextSibling,J=z.firstChild,de=x;return typeof de=="function"?Ge(de,se):x=se,p(se,M(Ce,{get each(){return u()},children:(ae,Ae)=>(()=>{var Ee=Er(),Te=Ee.firstChild,ie=Te.firstChild,Me=ie.nextSibling,rt=Te.nextSibling;return p(Te,()=>ae.label,ie),p(ie,(()=>{var fe=H(()=>ae.keys.length>1);return()=>fe()?Yr(O().keytips,ae.keys):""})()),Me.$$click=fe=>$(fe,Ae()),p(rt,M(Ce,{get each(){return ae.keys},children:fe=>(()=>{var _e=Lr();return p(_e,()=>fe.label),_e})()})),K(fe=>{var _e=c()==Ae(),Pe=O().expand;return _e!==fe.e&&Me.classList.toggle("using",fe.e=_e),Pe!==fe.t&&(Me.innerHTML=fe.t=Pe),fe},{e:void 0,t:void 0}),Ee})()}),f),J.$$click=()=>(_=-1,w({label:"",new:1,keys:[{label:O().defaultKey,value:[]}]})),p(J,()=>O().newtips),p(se,M(Q,{get when(){return c()>=0},get children(){var ae=$r(),Ae=ae.firstChild,Ee=Ae.nextSibling,Te=Ee.nextSibling;return Ae.$$click=()=>w(u()[c()]),p(Ae,()=>O().editips),Ee.$$click=B,p(Ee,()=>O().deltips),Te.$$click=xe,p(Te,()=>O().cpytips),p(ae,M(Q,{get when(){return P().length>0},get children(){var ie=Mt();return ie.$$click=le,p(ie,()=>O().pastips),ie}}),null),p(ae,M(Q,{get when(){return c()>0},get children(){var ie=Mt();return Qe(ie,"click",ee(-1),!0),p(ie,()=>O().mvutips),ie}}),null),p(ae,M(Q,{get when(){return c()+1<u().length},get children(){var ie=Mt();return Qe(ie,"click",ee(1),!0),p(ie,()=>O().mvdtips),ie}}),null),K(ie=>qe(ae,c()<0?"":E,ie)),ae}}),null),ke})()]}})),p(D,M(Q,{get when(){return m()},get children(){return M(ei,{hole:m,config:O,exit:()=>w(!1),get apply(){return ne(_)}})}}),null),K(()=>ve(nt,"placeholder",O().findgame)),D})()},Zr=e=>{let{origin:n,config:t,games:r,fullsize:s}=e,{val:i,udt:l}=e,a=0,o=null,u={},d=[i,l],c=null,g=0,[m,w]=Y(0),S=750,A=90,P=Math.ceil(window.innerHeight/A+10)*3,k=H(()=>r().slice(m(),P+m())),L=H(()=>`padding-top: ${A*m()}px; padding-bottom: ${A*(r().length-P-m())}px`),N=()=>{console.log("time to load screen shot",a,r().length),o=null};Ie(()=>{r().length>0&&!o&&(o=setTimeout(N,S))}),Ie(()=>{let b=r().length,v=i();if(c){let U=0;if(b===s){let C=r().findIndex(([E])=>E===v),_=getComputedStyle(c),y=parseFloat(_.height);C>Math.floor(y/A)&&(U=C*A-Math.floor(y/2)+A/2),U>c.scrollHeight-y&&(U=c.scrollHeight-y)}g!=b&&(g=b,w(0),c.scrollTo({top:U,behavior:"instant"}))}});let O=b=>{o&&clearTimeout(o),o=setTimeout(N,S);let v=b.scrollTop,{height:U}=b.getBoundingClientRect(),C=Math.floor(v/A),_=Math.floor((v+U)/A)+1,y=m(),E=y+P,x=P/3,$=y;(_>E-x-1||C<y+x)&&($=(Math.floor(C/x)-1)*x,$<0?$=0:$+P>=r().length&&($=r().length-P)),$!=y&&w($),a=v};return(()=>{var b=Tr(),v=b.firstChild,U=c;return typeof U=="function"?Ge(U,b):c=b,b.addEventListener("scroll",C=>r().length>P&&O(C.currentTarget)),p(v,M(Q,{get when(){return k().length>0},get children(){return M(Ce,{get each(){return k()},children:C=>M(Qr,{model:C,menu:d,origin:n})})}})),K(C=>qe(v,L(),C)),b})()},Qr=e=>{let[n,t]=e.menu,r=H(()=>Nt(e.model[0])),s=i=>{if(i==0)return{"background-image":"url(/r/loadimg.svg)","background-size":"120px 80px"};let l=(i&255)-1,a=l%10,o=Math.floor(l/10);return{"background-image":`url(https://oafcdn.anod.cc/agb.${i>>8}.webp)`,"background-position-x":`-${120*a}px`,"background-position-y":`-${80*o}px`}};return(()=>{var i=Ur(),l=i.firstChild,a=l.firstChild,o=l.nextSibling,u=o.firstChild;return i.$$click=t,i.$$clickData=e.model[0],p(a,()=>e.model[0]),p(l,M(Q,{get when(){return e.origin().cheats.has(r())},get children(){var d=Mr();return p(d,()=>e.origin().cheats.get(r()).length),d}}),null),p(u,()=>e.model[1].file),K(d=>{var c=e.model[0]==n(),g=s(e.model[1].g);return c!==d.e&&i.classList.toggle("using",d.e=c),d.t=qe(l,g,d.t),d},{e:void 0,t:void 0}),i})()},ei=e=>{let n=e.hole,t=e.config,r,s=(f,T)=>(f[T.addr]=T.val,f),i=f=>f-f%16,l=f=>{let T=new Set;for(let z of f)T.add(i(z.addr));return Array.from(T).sort()},a=(f,T)=>new Array((T-f)/16).fill(f).map((z,J)=>z+J*16),[o,u]=Y(0),[d,c]=Y(-1),[g,m]=Y(""),[w,S]=Y([],{equals:!1}),[A,P]=tt(Kr),k=H(()=>bn(n(),w())),L=H(()=>k().keys?.length===0?{}:k().keys[o()]),N=H(()=>{let f=parseInt(g(),16);return isNaN(f)?L().value?l(L().value):[]:f<33554432?[i(f)]:f<=33816575?a(i(f),Math.min(i(f)+16*5,i(33816575))):f<50331648?[i(f)]:f<=50364415?a(i(f),Math.min(i(f)+16*5,i(50364415))):[i(f)]}),O=H(()=>L().value?L().value.reduce(s,{}):{}),b=H(()=>(k().keys??[]).every(f=>f.value?.length>0)&&k().label.length>0),v=f=>33554432<=f&&f<33816575||50331648<=f&&f<50364415,U=f=>f.target.value=f.target.value.replace(/[^0-9a-fA-F]/g,""),C=f=>{r=U(f)},_=f=>f.length<4096&&f[0].value.length<2?f[0].value.length==1?f.length<256:f[0].value.length==2?Math.abs(f[0].value[0].addr-f[0].value[1].addr)===1:!1:!1,y=f=>{S(T=>(T.push($e(te.Title,f.target.value)),T))},E=f=>{S(T=>(T.push($e(te.Label,[o(),f.target.value])),T))},x=()=>{let f=o();f>=k().keys.length-1&&u(k().keys.length-2),S(T=>(T.push($e(te.Throw,f)),T))},$=(f,T)=>{let z=parseInt(T.target.value,16);S(J=>(J.push($e(te.Value,[o(),f,z])),J))},ne=()=>{let f=A();Ve(()=>{P(""),S(T=>(T.push($e(te.Paste,[o(),f])),T))})},B=()=>{let f=JSON.stringify(k().keys[o()]);P(f)},ee=()=>{let f=k().keys.length;Ve(()=>{S(T=>(T.push($e(te.Spawn,`\u79D8\u6280${f+1}`)),T)),u(f)})},xe=()=>{let f=k().keys.length;Ve(()=>{S(T=>(T.push($e(te.Spawn,`\u79D8\u6280${k().keys.length+1}`)),T.push($e(te.Paste,[k().keys.length,A()])),T)),P(""),u(f)})},le=f=>f.key==="Enter"&&F(),we=f=>{let T=document.body.querySelector(".searchtips");T.style.display="none",f.target.removeEventListener("blur",we),f.target.removeEventListener("input",C),f.target.removeEventListener("keydown",le)},D=f=>{let T=document.body.querySelector(".searchtips");T.style.display="block",f.target.addEventListener("blur",we),f.target.addEventListener("input",C),f.target.addEventListener("keydown",le)},F=()=>{m(r)},j=f=>{f.currentTarget.removeEventListener("dragend",j),c(-1)},W=(f,T)=>{let z=T.currentTarget,J=z.parentElement,de=J.getBoundingClientRect();T.dataTransfer.setDragImage(J,T.pageX-de.left,T.pageY-de.top),z.addEventListener("dragend",j),c(f)},Se=f=>{f.preventDefault(),f.dataTransfer.dropEffect="move"},nt=(f,T)=>{T.preventDefault();let z=o(),J=d();Ve(()=>{S(de=>(de.push($e(te.Index,[J,f])),de)),Math.min(J,f)<=z&&z<=Math.max(J,f)&&(J===z?u(f):J<f?u(z-1):u(z+1))})},bt=async()=>{let f=await navigator.clipboard.readText();if(f?.length>0){let T=f.split(`
`).map(z=>z.replace(/\\s/g,""));S(z=>(z.push($e(te.BatAN,T)),z))}},ke=async()=>{S(f=>(f.push($e(te.BatIP,null)),f))},se=async()=>{let f=o(),T=w().at(-1);Ve(()=>{T?.t===te.Spawn&&1+f===k().keys.length&&u(0),S(z=>(z.pop(),z))})};return M(mt,{get children(){var f=Or(),T=f.firstChild,z=T.firstChild,J=T.nextSibling,de=J.firstChild,ae=de.firstChild,Ae=ae.nextSibling,Ee=Ae.firstChild,Te=de.nextSibling,ie=Te.firstChild,Me=ie.firstChild,rt=ie.nextSibling,fe=rt.firstChild,_e=fe.nextSibling,Pe=_e.nextSibling,kn=rt.nextSibling,yt=kn.firstChild,$n=yt.firstChild,It=yt.nextSibling,Cn=It.firstChild,Ot=Cn.firstChild,Sn=Ot.firstChild,An=Sn.firstChild,_n=Ot.nextSibling,Pt=J.nextSibling,wt=Pt.firstChild,vt=wt.firstChild,Ft=wt.nextSibling,it=Ft.firstChild,Ye=it.nextSibling,En=Pt.nextSibling,Ln=En.firstChild;return z.addEventListener("blur",y),p(ae,()=>t().keyname),p(de,M(Ce,{get each(){return k().keys??[]},children:(I,be)=>(()=>{var he=Fr(),ge=he.firstChild;return ge.$$click=u,ge.$$clickData=be(),p(ge,()=>I.label),p(he,M(Q,{get when(){return d()<0||d()===be()},get fallback(){return(()=>{var X=Dr();return X.addEventListener("drop",me=>nt(be(),me)),X.addEventListener("dragover",Se),K(()=>X.innerHTML=t().dest),X})()},get children(){var X=Pr();return X.addEventListener("dragstart",me=>W(be(),me)),K(()=>X.innerHTML=t().drag),X}}),null),K(X=>{var me=be()===o(),Ue=I.value?.length===0,Le=I.value?.length==0?t().unusabletip:"";return me!==X.e&&he.classList.toggle("selected",X.e=me),Ue!==X.t&&he.classList.toggle("unusable",X.t=Ue),Le!==X.a&&ve(ge,"title",X.a=Le),X},{e:void 0,t:void 0,a:void 0}),he})()}),Ae),Ee.$$click=ee,p(Ee,()=>t().addkey),p(Ae,M(Q,{get when(){return A()},get children(){return["\xA0\xA0",(()=>{var I=Nr();return I.$$click=xe,p(I,()=>t().pastekey),I})()]}}),null),Me.addEventListener("blur",E),fe.$$click=B,p(fe,()=>t().optcopy),_e.$$click=ne,p(_e,()=>t().optpaste),Pe.$$click=x,p(Pe,()=>t().optdelete),p($n,()=>t().instips),p(yt,M(Q,{get when(){return g().length==0},get fallback(){return(()=>{var I=Ut();return I.$$click=()=>(r="",m("")),p(I,()=>t().goback),I})()},get children(){var I=Ir(),be=I.firstChild,he=be.nextSibling;return be.addEventListener("focus",D),he.$$click=F,K(ge=>{var X=t().findaddr,me=t().search;return X!==ge.e&&ve(be,"placeholder",ge.e=X),me!==ge.t&&(he.innerHTML=ge.t=me),ge},{e:void 0,t:void 0}),I}}),null),p(An,()=>t().coladdr),p(_n,M(Ce,{get each(){return N()},children:(I,be)=>[(()=>{var he=Hr(),ge=he.firstChild;return p(ge,()=>I.toString(16).padStart(8,"0")),p(he,M(Q,{get when(){return v(I)},get fallback(){return(()=>{var X=Rr();return p(X,()=>t().badaddr),X})()},get children(){return M(Ce,{get each(){return new Array(16).fill(0)},children:(X,me)=>(()=>{var Ue=Vr(),Le=Ue.firstChild;return Le.addEventListener("blur",st=>$(me()+I,st)),Le.$$input=U,K(()=>Le.value=O()[me()+I]?.toString(16).padStart(2,"0")??""),Ue})()})}}),null),he})(),M(Q,{get when(){return N()[be()+1]>I+16},get children(){return jr()}})]})),p(It,M(Q,{get when(){return H(()=>L().value.length===0)()&&N().length===0},get children(){return M(oe.Markdown,{get body(){return t().editvaltip},class:" emptytip "})}}),null),vt.$$click=bt,p(vt,()=>t().batchload),p(wt,M(Q,{get when(){return H(()=>!!k().keys)()?_(k().keys):!1},get children(){var I=Ut();return I.$$click=ke,p(I,()=>t().batchcalc),K(()=>ve(I,"title",t().batchcalctip)),I}}),null),p(Ft,M(Q,{get when(){return w().length>0},get children(){var I=Ut();return I.$$click=se,p(I,()=>t().optundo),I}}),it),Qe(it,"click",e.exit,!0),p(it,()=>t().endEdit),Ye.$$click=e.apply,Ye.$$clickData=k(),p(Ye,()=>t().useEdit),p(Ln,()=>t().searchtip),K(I=>{var be=t().holename,he=k().keys.length===1,ge=k().keys.length===1?t().nametip:"",X=!A(),me=k().keys.length===1,Ue=k().keys.length===1?t().actiontip:"",Le=t().batchloadtip,st=!b(),Dt=b()?"":t().nosavetip;return be!==I.e&&ve(z,"placeholder",I.e=be),he!==I.t&&(Me.disabled=I.t=he),ge!==I.a&&ve(Me,"title",I.a=ge),X!==I.o&&(_e.disabled=I.o=X),me!==I.i&&(Pe.disabled=I.i=me),Ue!==I.n&&ve(Pe,"title",I.n=Ue),Le!==I.s&&ve(vt,"title",I.s=Le),st!==I.h&&(Ye.disabled=I.h=st),Dt!==I.r&&ve(Ye,"title",I.r=Dt),I},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),K(()=>z.value=k().label??""),K(()=>Me.value=L().label),f}})},ti=async(e,n)=>{let t=await(0,oe.selectFile)(e),r=t.stream().getReader(),s=await xn(r,n,t.size);return Tt(s)},ni=async(e,n)=>{let t=await fetch(e),r=t.body.pipeThrough(new DecompressionStream("gzip")).getReader(),s=await xn(r,n,t.headers.get("x-size"));return Tt(s)},xn=(e,n,t)=>{t=Number(t);let r=t==0?qr:t,s=new Uint8Array(r),i=0,l=({done:a,value:o})=>a?(s=s.slice(0,i),n(100),Promise.resolve()):(s.set(o,i),i+=o.byteLength,n(100*(1-Math.pow(i/r-1,4))),e.read().then(l));return e.read().then(l).then(()=>s)},ri=()=>{let[e]=Jt(()=>fetch("/r/acl-editor.json").then(l=>l.json())),n=localStorage.getItem("ready"),[t,r]=Y(n!=null?ze.pending:ze.caching),[s,i]=Y({},{equals:!1});return M(dt,{get fallback(){return M(oe.Loading,{})},get children(){return[M(De,{get when(){return e.state=="errored"},get children(){var l=Br();return p(l,()=>e.error.message),l}}),M(De,{get when(){return e.state=="ready"},get children(){return M(dt,{fallback:"nothing",get children(){return[M(De,{get when(){return t()==ze.caching},get children(){return M(Wr,{config:e})}}),M(De,{get when(){return t()==ze.pending},get children(){return M(Xr,{config:e,ready:l=>(i(l),r(ze.editing))})}}),M(De,{get when(){return t()==ze.editing},get children(){return M(Jr,{config:e,origin:s,refresh:i})}})]}})}})]}})};(0,oe.main)(ri);zr();ht(["click","input"]);})();
